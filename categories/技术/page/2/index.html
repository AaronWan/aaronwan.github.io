<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Category: æŠ€æœ¯ | é“ - è‡ªç„¶ ğŸƒ</title>
  <meta name="description" content="ç”Ÿæ´»ç‚¹æ»´å’ŒçŸ¥è¯†åˆ†äº«" />
  <meta name="keywords" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="shortcut icon" href="/">
  <link rel="alternate" href="/atom.xml" title="é“ - è‡ªç„¶ ğŸƒ" type="application/atom+xml">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ç”Ÿæ´»ç‚¹æ»´å’ŒçŸ¥è¯†åˆ†äº«">
<meta property="og:type" content="website">
<meta property="og:title" content="é“ - è‡ªç„¶ ğŸƒ">
<meta property="og:url" content="http://example.com/categories/%E6%8A%80%E6%9C%AF/page/2/index.html">
<meta property="og:site_name" content="é“ - è‡ªç„¶ ğŸƒ">
<meta property="og:description" content="ç”Ÿæ´»ç‚¹æ»´å’ŒçŸ¥è¯†åˆ†äº«">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ä¸‡æ¾">
<meta name="twitter:card" content="summary">
    
  <link href="https://fonts.googleapis.com/css?family=Inconsolata|Titillium+Web" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href='//cdn.bootcss.com/node-waves/0.7.5/waves.min.css' rel='stylesheet'>
  
<link rel="stylesheet" href="/style.css">

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>


  <script>setLoadingBarProgress(20)</script> 
  <header class="l_header">
	<div class='wrapper'>
		<div class="nav-main container container--flex">
			<a class="logo flat-box" href='/' >
				é“ - è‡ªç„¶ ğŸƒ
			</a>

			<div class='menu'>
				<ul class='h-list'>
					
						<li>
							<a class='flat-box nav-home' href='/'>
								ä¸»é¡µ
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-archives' href='/archives'>
								åˆ†ç±»æŸ¥çœ‹
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-about' href='/about'>
								å…³äºæˆ‘
							</a>
						</li>
					
				</ul>
				<div class='underline'></div>
			</div>
			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<span class="icon icon-search"></span>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a href='javascript:void(0)'><span class="icon icon-search flat-box"></span></a></li>
				
				<li class='s-menu'><a href='javascript:void(0)'><span class="icon icon-menu flat-box"></span></a></li>
			</ul>
		</div>
		
		<div class='nav-sub container container--flex'>
			<a class="logo" class="flat-box" href='javascript:void(0)'>
				Word of Forks
			</a>

			<ul class='switcher h-list'>
				<li class='s-comment'><a href='javascript:void(0)'><span class="icon icon-chat_bubble_outline flat-box"></span></a></li>
				<li class='s-top'><a href='javascript:void(0)'><span class="icon icon-arrow_upward flat-box"></span></a></li>
				<li class='s-toc'><a href='javascript:void(0)'><span class="icon icon-format_list_numbered flat-box"></span></a></li>
			</ul>
		</div>
	</div>
</header>
<aside class="menu-phone">
	<nav>
		
			<a href="/" class="nav-home nav">
				ä¸»é¡µ
			</a>
		
			<a href="/archives" class="nav-archives nav">
				åˆ†ç±»æŸ¥çœ‹
			</a>
		
			<a href="/about" class="nav-about nav">
				å…³äºæˆ‘
			</a>
		
	</nav>
</aside>

    <script>setLoadingBarProgress(40);</script>
  <div class="l_body">
    <div class='container clearfix'>
      <div class='l_main'>
        
  <script>
    window.subData= { title:'Category : æŠ€æœ¯'}
  </script>

<section class="post-list">
	
    <div class='post-wrapper'>
      <article class="post reveal">
    <section class="meta">
        
            <h2 class="title">
                <a href="/2016/10/13/dubbo/">
                    Dubbo
                </a>
            </h2>
        
        <time>
            10æœˆ 13, 2016
        </time>
        
    
    <div class='cats'>
        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
    </div>

    </section>
    <section class="article typo">
        <h2 id="Dubboåœ¨é¡¹ç›®ä¸­çš„ä½œç”¨"><a href="#Dubboåœ¨é¡¹ç›®ä¸­çš„ä½œç”¨" class="headerlink" title="Dubboåœ¨é¡¹ç›®ä¸­çš„ä½œç”¨"></a>Dubboåœ¨é¡¹ç›®ä¸­çš„ä½œç”¨</h2><p>åˆ†å¸ƒå¼æœåŠ¡æ¶æ„</p>
<ol>
<li><p>å½“æœåŠ¡è¶Šæ¥è¶Šå¤šæ—¶ï¼ŒæœåŠ¡URLé…ç½®ç®¡ç†å˜å¾—éå¸¸å›°éš¾ï¼ŒF5ç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨çš„å•ç‚¹å‹åŠ›ä¹Ÿè¶Šæ¥è¶Šå¤§ã€‚æ­¤æ—¶éœ€è¦ä¸€ä¸ªæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ŒåŠ¨æ€çš„æ³¨å†Œå’Œå‘ç°æœåŠ¡ï¼Œä½¿æœåŠ¡çš„ä½ç½®é€æ˜ã€‚<br>å¹¶é€šè¿‡åœ¨æ¶ˆè´¹æ–¹è·å–æœåŠ¡æä¾›æ–¹åœ°å€åˆ—è¡¨ï¼Œå®ç°è½¯è´Ÿè½½å‡è¡¡å’ŒFailoverï¼Œé™ä½å¯¹F5ç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨çš„ä¾èµ–ï¼Œä¹Ÿèƒ½å‡å°‘éƒ¨åˆ†æˆæœ¬ã€‚</p>
</li>
<li><p>å½“è¿›ä¸€æ­¥å‘å±•ï¼ŒæœåŠ¡é—´ä¾èµ–å…³ç³»å˜å¾—é”™è¸ªå¤æ‚ï¼Œç”šè‡³åˆ†ä¸æ¸…å“ªä¸ªåº”ç”¨è¦åœ¨å“ªä¸ªåº”ç”¨ä¹‹å‰å¯åŠ¨ï¼Œæ¶æ„å¸ˆéƒ½ä¸èƒ½å®Œæ•´çš„æè¿°åº”ç”¨çš„æ¶æ„å…³ç³»ã€‚<br>è¿™æ—¶ï¼Œéœ€è¦è‡ªåŠ¨ç”»å‡ºåº”ç”¨é—´çš„ä¾èµ–å…³ç³»å›¾ï¼Œä»¥å¸®åŠ©æ¶æ„å¸ˆç†æ¸…ç†å…³ç³»ã€‚</p>
</li>
<li><p>æ¥ç€ï¼ŒæœåŠ¡çš„è°ƒç”¨é‡è¶Šæ¥è¶Šå¤§ï¼ŒæœåŠ¡çš„å®¹é‡é—®é¢˜å°±æš´éœ²å‡ºæ¥ï¼Œè¿™ä¸ªæœåŠ¡éœ€è¦å¤šå°‘æœºå™¨æ”¯æ’‘ï¼Ÿä»€ä¹ˆæ—¶å€™è¯¥åŠ æœºå™¨ï¼Ÿ<br>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œç¬¬ä¸€æ­¥ï¼Œè¦å°†æœåŠ¡ç°åœ¨æ¯å¤©çš„è°ƒç”¨é‡ï¼Œå“åº”æ—¶é—´ï¼Œéƒ½ç»Ÿè®¡å‡ºæ¥ï¼Œä½œä¸ºå®¹é‡è§„åˆ’çš„å‚è€ƒæŒ‡æ ‡ã€‚<br>å…¶æ¬¡ï¼Œè¦å¯ä»¥åŠ¨æ€è°ƒæ•´æƒé‡ï¼Œåœ¨çº¿ä¸Šï¼Œå°†æŸå°æœºå™¨çš„æƒé‡ä¸€ç›´åŠ å¤§ï¼Œå¹¶åœ¨åŠ å¤§çš„è¿‡ç¨‹ä¸­è®°å½•å“åº”æ—¶é—´çš„å˜åŒ–ï¼Œç›´åˆ°å“åº”æ—¶é—´åˆ°è¾¾é˜€å€¼ï¼Œè®°å½•æ­¤æ—¶çš„è®¿é—®é‡ï¼Œå†ä»¥æ­¤è®¿é—®é‡ä¹˜ä»¥æœºå™¨æ•°åæ¨æ€»å®¹é‡ã€‚</p>
</li>
</ol>
<h2 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h2><h3 id="è§’è‰²"><a href="#è§’è‰²" class="headerlink" title="è§’è‰²"></a>è§’è‰²</h3><ol>
<li>Provider: æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹ã€‚</li>
<li>Consumer: è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹ã€‚</li>
<li>Registry: æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒã€‚</li>
<li>Monitor: ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡è°ƒå’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒã€‚</li>
<li>Container: æœåŠ¡è¿è¡Œå®¹å™¨ã€‚</li>
</ol>
<h3 id="è°ƒç”¨å…³ç³»"><a href="#è°ƒç”¨å…³ç³»" class="headerlink" title="è°ƒç”¨å…³ç³»"></a>è°ƒç”¨å…³ç³»</h3><ol start="0">
<li>æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œè¿è¡ŒæœåŠ¡æä¾›è€…ã€‚</li>
<li>æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚</li>
<li>æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ã€‚</li>
<li>æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…ã€‚</li>
<li>æœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨ã€‚</li>
<li>æœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œå®šæ—¶æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒã€‚</li>
</ol>


        

        
            <div class="full-width auto-padding tags">
                
                    <a href="/tags/java/">java</a>
                
                    <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">åˆ†å¸ƒå¼</a>
                
                    <a href="/tags/dubbo/">dubbo</a>
                
                    <a href="/tags/%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86/">æœåŠ¡æ²»ç†</a>
                
                    <a href="/tags/rpc/">rpc</a>
                
            </div>
        
    </section>
</article>

    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
    <section class="meta">
        
            <h2 class="title">
                <a href="/2016/09/16/paxos/">
                    Paxos
                </a>
            </h2>
        
        <time>
            9æœˆ 16, 2016
        </time>
        
    
    <div class='cats'>
        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
    </div>

    </section>
    <section class="article typo">
        <h2 id="ä½œè€…ä»‹ç»"><a href="#ä½œè€…ä»‹ç»" class="headerlink" title="ä½œè€…ä»‹ç»"></a>ä½œè€…ä»‹ç»</h2><p>1982ï¼ŒLamport æå‡ºäº†ä¸€ç§è®¡ç®—æœºå®¹é”™ç†è®ºï¼Œå¹¶äº1900å¹´è®ºè¯ã€‚<br>è¿™æ˜¯ä¸€ç§<br>åŸºäºæ¶ˆä¼ é€’ä¸”å…·æœ‰é«˜åº¦å®¹é”™ç‰¹æ€§çš„ä¸€è‡´æ€§ç®—æ³•ï¼Œæ˜¯ç›®å‰å…¬è®¤çš„è§£å†³åˆ†å¸ƒå¼ä¸€è‡´æ€§é—®é¢˜æœ€æœ‰æ•ˆçš„ç®—æ³•ä¹‹ä¸€ã€‚</p>
<blockquote>
<p>æ—¶é—´æ—¶é’Ÿã€é¢åŒ…åº—ç®—æ³•ã€æ‹œå åº­å°†å†›åŠpaxosç®—æ³•çš„åˆ›å»ºæ€§å®¹é”™</p>
</blockquote>
<h2 id="paxosçš„ç›®çš„"><a href="#paxosçš„ç›®çš„" class="headerlink" title="paxosçš„ç›®çš„"></a>paxosçš„ç›®çš„</h2><p>  æé«˜åˆ†å¸ƒå¼ç³»ç»Ÿå®¹é”™æ€§çš„ä¸€è‡´æ€§ç®—æ³•</p>
<h2 id="æ ¸å¿ƒ"><a href="#æ ¸å¿ƒ" class="headerlink" title="æ ¸å¿ƒ"></a>æ ¸å¿ƒ</h2><p>  ä¸€è‡´æ€§ç®—æ³•</p>
<h2 id="ç®—æ³•ä¸‰ä¸ªè§’è‰²ï¼š"><a href="#ç®—æ³•ä¸‰ä¸ªè§’è‰²ï¼š" class="headerlink" title="ç®—æ³•ä¸‰ä¸ªè§’è‰²ï¼š"></a>ç®—æ³•ä¸‰ä¸ªè§’è‰²ï¼š</h2><p>  Proposer<br>  Acceptor<br>  Learner</p>
<h2 id="è§„åˆ™"><a href="#è§„åˆ™" class="headerlink" title="è§„åˆ™"></a>è§„åˆ™</h2><h3 id="paxos-æè¿°ï¼š"><a href="#paxos-æè¿°ï¼š" class="headerlink" title="paxos æè¿°ï¼š"></a>paxos æè¿°ï¼š</h3><p>  å‚ä¸è€…ä¹‹é—´å¯ä»¥è¿›è¡Œé€šä¿¡ï¼Œå¯ä»¥è®°å½•ä¸€äº›ä¿¡æ¯ï¼Œæ¥ç¡®å®šæœ€ç»ˆçš„å€¼<br>  æ¶ˆæ¯å†…å®¹ä¸ä¼šè¢«ç¯¡æ”¹</p>
<h3 id="çŸ¥è¡Œå­¦ç¤¾çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸Paxosç®—æ³•-å¯¹paxosç®—æ³•æ ¸å¿ƒæ€æƒ³çš„æè¿°"><a href="#çŸ¥è¡Œå­¦ç¤¾çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸Paxosç®—æ³•-å¯¹paxosç®—æ³•æ ¸å¿ƒæ€æƒ³çš„æè¿°" class="headerlink" title="çŸ¥è¡Œå­¦ç¤¾çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸Paxosç®—æ³• å¯¹paxosç®—æ³•æ ¸å¿ƒæ€æƒ³çš„æè¿°"></a>çŸ¥è¡Œå­¦ç¤¾çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸Paxosç®—æ³• å¯¹paxosç®—æ³•æ ¸å¿ƒæ€æƒ³çš„æè¿°</h3><ul>
<li><p>åœ¨æŠ¢å å¼è®¿é—®æƒçš„åŸºç¡€ä¸Šå¼•å…¥å¤šacceptor</p>
</li>
<li><p>ä¿è¯ä¸€ä¸ªepoch,åªæœ‰ä¸€ä¸ªproposerè¿è¡Œï¼ŒproposeræŒ‰ç…§epoché€’å¢çš„é¡ºåºä¾æ¬¡è¿è¡Œã€‚</p>
</li>
<li><p>æ–°çš„epochçš„proposeré‡‡ç”¨åè€…è®¤åŒå‰è€…çš„æ€è·¯è¿è¡Œã€‚</p>
</li>
<li><p>åœ¨è‚¯å®šæ—§epochæ— æ³•ç”Ÿæˆç¡®å®šæ€§å–å€¼æ—¶ï¼Œæ–°çš„epoch ä¼šæäº¤è‡ªå·±çš„å–å€¼ã€‚ä¸ä¼šå†²çªã€‚</p>
</li>
<li><p>ä¸€æ—¦æ—§epochå½¢æˆç¡®å®šæ€§å–å€¼ï¼Œæ–°epochè‚¯å®šå¯ä»¥è·å–åˆ°æ­¤å–å€¼ï¼Œå¹¶ä¸”ä¼šè®¤åŒæ­¤å–å€¼ï¼Œä¸ä¼šç ´åã€‚</p>
</li>
</ul>


        

        
            <div class="full-width auto-padding tags">
                
                    <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">åˆ†å¸ƒå¼</a>
                
                    <a href="/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•</a>
                
                    <a href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95/">ä¸€è‡´æ€§ç®—æ³•</a>
                
                    <a href="/tags/CAP/">CAP</a>
                
            </div>
        
    </section>
</article>

    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
    <section class="meta">
        
            <h2 class="title">
                <a href="/2015/12/08/FASTFS/">
                    FASTDFS
                </a>
            </h2>
        
        <time>
            12æœˆ 8, 2015
        </time>
        
    
    <div class='cats'>
        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
    </div>

    </section>
    <section class="article typo">
        <h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li><a target="_blank" rel="noopener" href="http://www.oschina.net/p/fastdfs">åŸºæœ¬ä»‹ç»</a></li>
</ul>


        

        
            <div class="full-width auto-padding tags">
                
                    <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">åˆ†å¸ƒå¼</a>
                
                    <a href="/tags/%E5%AD%98%E5%82%A8/">å­˜å‚¨</a>
                
                    <a href="/tags/fastfs/">fastfs</a>
                
            </div>
        
    </section>
</article>

    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
    <section class="meta">
        
            <h2 class="title">
                <a href="/2015/12/08/git%E5%B7%A5%E4%BD%9C%E4%B8%8E%E5%AD%A6%E4%B9%A0/">
                    gitå·¥ä½œä¸å­¦ä¹ 
                </a>
            </h2>
        
        <time>
            12æœˆ 8, 2015
        </time>
        
    
    <div class='cats'>
        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
    </div>

    </section>
    <section class="article typo">
        <h3 id="tagçš„ä½œç”¨ä¸å­¦ä¹ "><a href="#tagçš„ä½œç”¨ä¸å­¦ä¹ " class="headerlink" title="tagçš„ä½œç”¨ä¸å­¦ä¹ "></a>tagçš„ä½œç”¨ä¸å­¦ä¹ </h3><ul>
<li><p>git tag â€˜nameâ€™ -m â€˜descâ€™ åˆ›å»º</p>
</li>
<li><p>git tag -d â€˜nameâ€™ åˆ é™¤</p>
</li>
<li><p>git tag -l  æŸ¥çœ‹</p>
</li>
<li><p>git push â€“tags æäº¤</p>
</li>
<li><p>git push origin :refs/tags/tags_name</p>
</li>
</ul>
<h3 id="git-åœ¨ä½¿ç”¨é¡¹ç›®ä¸­çš„å®è·µæ¨¡å‹"><a href="#git-åœ¨ä½¿ç”¨é¡¹ç›®ä¸­çš„å®è·µæ¨¡å‹" class="headerlink" title="git åœ¨ä½¿ç”¨é¡¹ç›®ä¸­çš„å®è·µæ¨¡å‹"></a>git åœ¨ä½¿ç”¨é¡¹ç›®ä¸­çš„å®è·µæ¨¡å‹</h3><ol>
<li>master</li>
<li>release-6.1</li>
<li>develop</li>
<li>hotfix-xxx</li>
<li>release-release-6.1-xx</li>
</ol>
<h3 id="æ‰¹é‡åˆ é™¤tag"><a href="#æ‰¹é‡åˆ é™¤tag" class="headerlink" title="æ‰¹é‡åˆ é™¤tag"></a>æ‰¹é‡åˆ é™¤tag</h3><p>git tag |grep -v â€˜v7.2.25-log_report_v9-20200909â€™ | xargs -I {} git tag -d {}</p>


        

        
            <div class="full-width auto-padding tags">
                
                    <a href="/tags/%E7%BB%8F%E9%AA%8C/">ç»éªŒ</a>
                
                    <a href="/tags/%E5%B7%A5%E5%85%B7/">å·¥å…·</a>
                
                    <a href="/tags/git/">git</a>
                
                    <a href="/tags/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
                
            </div>
        
    </section>
</article>

    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
    <section class="meta">
        
            <h2 class="title">
                <a href="/2015/11/22/redis%E8%87%B4%E5%91%BD%E9%94%99%E8%AF%AF%E7%9A%84%E5%87%BA%E7%8E%B0/">
                    redisè‡´å‘½é”™è¯¯çš„å‡ºç°
                </a>
            </h2>
        
        <time>
            11æœˆ 22, 2015
        </time>
        
    
    <div class='cats'>
        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>, <a href="/categories/%E6%8A%80%E6%9C%AF/%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/">é—®é¢˜æ€»ç»“</a>
    </div>

    </section>
    <section class="article typo">
        <p>#é”™è¯¯æè¿°<br>æˆ‘ä»¬å°†æ–‡ä»¶ç¼“å­˜åˆ°redis,ä½†æ˜¯åœ¨çº¿ä¸Šå‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯Aä¼ä¸šç¾¤ä¸­å‘çš„æ–‡ä»¶ï¼Œåœ¨Bä¼ä¸šç¾¤ä¸­çœ‹æ–‡ä»¶æ—¶å´çœ‹åˆ°äº†Aä¼ä¸šç¾¤ä¸­çš„å›¾ç‰‡ã€‚</p>
<p>#ç»æ’æŸ¥ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p>##æ¡ˆä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>    import com.google.common.collect.Lists;
    import org.apache.commons.lang3.StringUtils;
    import org.apache.commons.pool2.impl.GenericObjectPoolConfig;
    import org.slf4j.Logger;
    import org.slf4j.LoggerFactory;
    import redis.clients.jedis.Jedis;
    import redis.clients.jedis.JedisPool;

    import java.util.Arrays;
    import java.util.Collections;
    import java.util.List;
    import java.util.concurrent.*;

    /**
     * Created by Aaron on 15/11/12.
     */
    public class FileRedisFactory &#123;
        private static Logger log = LoggerFactory.getLogger(FileRedisFactory.class);
        public ThreadPoolExecutor threadPoolExecutor;
        // æ ¼å¼ä¸º ï¼š 127.0.0.1:6379#0;127.0.0.2:6379#1    IP:PORT#index
        private String hosts;
        private String password;
        private int size;
        private List&lt;JedisPool&gt; pools=Lists.newArrayList();//è¿æ¥æ± 

        public FileRedisFactory(String hosts, String password) &#123;
            this.hosts = hosts;
            this.password = password;
            this.init(hosts, password);
        &#125;

        public FileRedisFactory(String hosts) &#123;
            this.hosts = hosts;
            this.init(hosts, null);
        &#125;


        private synchronized void init(String hosts, String password) &#123;
            if (StringUtils.isNotEmpty(hosts)) &#123;
                String[] hostsArray = hosts.split(&quot;;&quot;);
                List&lt;String&gt; hostList = Arrays.asList(hostsArray);
                Collections.sort(hostList);
                System.out.println(hostList);
                for (String host : hostList) &#123;
                    try &#123;
                        String[] uriDb=host.split(&quot;#&quot;);
                        String[] host_port = uriDb[0].split(&quot;:&quot;);
                        String ip = host_port[0];
                        String port = host_port[1];
                        int index=uriDb.length&gt;0?Integer.valueOf(uriDb[1]):0;
                        GenericObjectPoolConfig poolConfig = new GenericObjectPoolConfig();

                        poolConfig.setMaxTotal(16);
                        poolConfig.setMaxIdle(16);
                        if (StringUtils.isNotEmpty(password)) &#123;
                            pools.add(new JedisPool(poolConfig, ip, Integer.valueOf(port), 2000, password, index));
                        &#125; else &#123;
                            pools.add(new JedisPool(poolConfig, ip, Integer.valueOf(port), 2000, null, index));
                        &#125;
                    &#125; catch (Exception e) &#123;
                        pools = Lists.newArrayList();
                        e.printStackTrace();
                        log.error(&quot;[ShardedRedisFactory] [initByShard] [error] [hosts:&quot; + hosts + &quot;] [password:&quot; + password + &quot;]&quot;, e);
                    &#125;
                &#125;
                size = pools.size();
            &#125;
            this.threadPoolExecutor = new ThreadPoolExecutor(10,20,3, TimeUnit.MINUTES,new LinkedBlockingDeque&lt;&gt;(),new ThreadPoolExecutor.DiscardPolicy());

            // æ„é€ æ± 
            log.info(&quot;[ShardedRedisFactory] [initByShard] [success] [hosts:&#123;&#125;] [password:&#123;&#125;] [masterName:&#123;&#125;] [pool:&#123;&#125;]&quot;, hosts, password);
        &#125;

        private JedisPool getJedisPool(int c) &#123;
            int index = c % size;
            return pools.get(index);
        &#125;

        private static int getIndexFromPath(String path) &#123;
            String first=path.split(&quot;\\.&quot;)[0];
            return  first.charAt(first.length() - 1);
        &#125;

        /**
         * @param filePath file path
         * @return
         */
        public byte[] get(String filePath) &#123;
            if (cacheIsAvailable()) return null;
            JedisPool jedisPool = getJedisPool(getIndexFromPath(filePath));
            Jedis jedis = null;
            try &#123;
                jedis = jedisPool.getResource();
                return jedis.get(filePath.getBytes());
            &#125; catch (Exception e) &#123;
                log.error(e.getMessage());
                return null;
            &#125; finally &#123;
                if (jedis != null)
                    jedisPool.returnResource(jedis);
            &#125;
        &#125;

        public void asynSet(String filePath, byte[] datas)&#123;
            if (cacheIsAvailable()) return;
            threadPoolExecutor.execute(()-&gt;&#123;
                    JedisPool jedisPool = getJedisPool(getIndexFromPath(filePath));
                    Jedis jedis = null;
                    try &#123;
                        jedis = jedisPool.getResource();
                        jedis.set(filePath.getBytes(), datas);
                    &#125; catch (Exception e) &#123;
                        log.error(e.getMessage());
                    &#125; finally &#123;
                        if (jedis != null)
                            jedisPool.returnResource(jedis);
                    &#125;
            &#125;);
        &#125;
        private boolean cacheIsAvailable() &#123;
            if(pools.size()==0)&#123;
                return true;
            &#125;
            return false;
        &#125;

    &#125;</code></pre>
<p>##æµ‹è¯•ä»£ç å¦‚ä¸‹</p>
<pre><code>        public static void main(String[] args) &#123;
            FileRedisFactory fileRedisFactory = new FileRedisFactory(&quot;172.31.xxx.xxx:6379#0;172.31.xx.xxx:6379#1;172.31.xxx.xxx:6379#2;172.31.xxx.xxx:6379#3&quot;);
            System.out.println(fileRedisFactory);
            Map&lt;String,String&gt; map=new HashMap&lt;&gt;();

            for(int i=0;i&lt;20;i++)&#123;
                map.put(&quot;&quot;+i,&quot;&quot;+i);
            &#125;

            for (int j = 0; j &lt;50 ; j++) &#123;
                Thread thread=new Thread()&#123;
                    @Override
                    public void run() &#123;
                        while(true)&#123;
                            Set&lt;String&gt; s=map.keySet();

                            s.forEach(i-&gt;&#123;
                                fileRedisFactory.set(i + &quot;&quot;, (i + &quot;&quot;).getBytes());
                            &#125;);
                        &#125;
                    &#125;
                &#125;;
                thread.start();
            &#125;
            for (int k = 0; k &lt;50 ; k++) &#123;
                Thread thread=new Thread()&#123;
                    @Override
                    public void run() &#123;
                        while(true)&#123;
                            Set&lt;String&gt; s=map.keySet();
                            s.forEach(i-&gt;&#123;
                                byte[] first=fileRedisFactory.get(i+&quot;&quot;);
                                if(first==null)&#123;
                                    System.out.println(i+&quot;&quot;+first);
                                    return;
                                &#125;
                                try&#123;
                                String temp=(new String(first));
                                if(!temp.equals(i+&quot;&quot;))&#123;
                                    System.out.println(i+&quot;======&quot;+temp);
                                    System.exit(-1);
                                &#125;&#125;catch(Exception e)&#123;
                                    e.printStackTrace();
                                &#125;
                            &#125;);
                        &#125;
                    &#125;
                &#125;;
                thread.start();
            &#125;
        &#125;</code></pre>
<p>è‹¥ä½ å’Œè¿æ¥åˆ°redisæœåŠ¡å™¨ä¹‹é—´çš„ç½‘ç»œä¸æ˜¯å¾ˆç¨³å®š<br>åœ¨è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œæœ‰å¥‡æ€ªçš„ç°åƒå‡ºç°ï¼š</p>
<pre><code>    1======2
    3======8</code></pre>
<p>è¿™æ—¶ï¼Œæˆ‘ä»¬å°±åœ¨å¯¹redisæ“ä½œæ—¶ï¼Œå¼‚å¸¸çš„åœ°æ–¹ä¿®æ”¹æˆå¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code>    catch (Exception e) &#123;
          log.error(e.getMessage());
          e.printStackTrace();
          return null;
    &#125; </code></pre>
<p>å°±ä¼šçœ‹åˆ°æŠ¥TimeOutçš„Exception</p>
<pre><code>æˆ‘ä»¬å°†ï¼š
        &lt;dependency&gt;
            &lt;groupId&gt;redis.clients&lt;/groupId&gt;
            &lt;artifactId&gt;jedis&lt;/artifactId&gt;
            &lt;version&gt;2.6.2&lt;/version&gt;
        &lt;/dependency&gt;

æ›¿æ¢æˆï¼š
        &lt;dependency&gt;
            &lt;groupId&gt;redis.clients&lt;/groupId&gt;
            &lt;artifactId&gt;jedis&lt;/artifactId&gt;
            &lt;version&gt;2.7.3&lt;/version&gt;
        &lt;/dependency&gt;</code></pre>
<p>è¿™æ—¶æˆ‘ä»¬å»Googleä¸ŠæŸ¥è¯¢çš„åŒæ—¶ä¹Ÿçœ‹äº†ä¸€ä¸‹æ–°çš„ä»£ç ï¼Œ<br>     æˆ‘ä»¬åŸæ¥ç”¨çš„ï¼š</p>
<pre><code>    jedisPool.returnResource(jedis);

 å·²ç»å˜æˆäº†ï¼š


   /**
    * @deprecated starting from Jedis 3.0 this method won&#39;t exist. Resouce cleanup should be done
    *             using @see &#123;@link redis.clients.jedis.Jedis#close()&#125;
    */
   @Deprecated
   public void returnResource(final Jedis resource) &#123;
     if (resource != null) &#123;
       try &#123;
         resource.resetState();
         returnResourceObject(resource);
       &#125; catch (Exception e) &#123;
         returnBrokenResource(resource);
         throw new JedisException(&quot;Could not return the resource to the pool&quot;, e);
       &#125;
     &#125;
   &#125;</code></pre>
<p>åŒæ—¶æˆ‘ä»¬ä¹ŸæŸ¥åˆ°äº†ä¸€ä¸ªæ–‡ç« <a target="_blank" rel="noopener" href="http://www.cnblogs.com/wcd144140/p/4883139.html">JedisPoolå¼‚å¸¸Jedisé“¾æ¥å¤„ç†</a></p>
<p>#ä¿®æ”¹åçš„ä»£ç ï¼š</p>
<pre><code>import com.google.common.collect.Lists;
import org.apache.commons.lang3.StringUtils;
import org.apache.commons.pool2.impl.GenericObjectPoolConfig;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import redis.clients.jedis.Jedis;
import redis.clients.jedis.JedisPool;

import java.util.Arrays;
import java.util.Collections;
import java.util.List;
import java.util.concurrent.*;

/**
 * Created by Aaron on 15/11/12.
 */
public class FileRedisFactory &#123;
    private static Logger log = LoggerFactory.getLogger(FileRedisFactory.class);
    public ThreadPoolExecutor threadPoolExecutor;
    // æ ¼å¼ä¸º ï¼š 127.0.0.1:6379#0;127.0.0.2:6379#1    IP:PORT#index
    private String hosts;
    private String password;
    private int size;
    private List&lt;JedisPool&gt; pools=Lists.newArrayList();//è¿æ¥æ± 

    public FileRedisFactory(String hosts, String password) &#123;
        this.hosts = hosts;
        this.password = password;
        this.init(hosts, password);
    &#125;

    public FileRedisFactory(String hosts) &#123;
        this.hosts = hosts;
        this.init(hosts, null);
    &#125;


    private synchronized void init(String hosts, String password) &#123;
        if (StringUtils.isNotEmpty(hosts)) &#123;
            String[] hostsArray = hosts.split(&quot;;&quot;);
            List&lt;String&gt; hostList = Arrays.asList(hostsArray);
            Collections.sort(hostList);
            System.out.println(hostList);
            for (String host : hostList) &#123;
                try &#123;
                    String[] uriDb=host.split(&quot;#&quot;);
                    String[] host_port = uriDb[0].split(&quot;:&quot;);
                    String ip = host_port[0];
                    String port = host_port[1];
                    int index=uriDb.length&gt;0?Integer.valueOf(uriDb[1]):0;
                    GenericObjectPoolConfig poolConfig = new GenericObjectPoolConfig();

                    poolConfig.setMaxTotal(16);
                    poolConfig.setMaxIdle(16);
                    if (StringUtils.isNotEmpty(password)) &#123;
                        pools.add(new JedisPool(poolConfig, ip, Integer.valueOf(port), 2000, password, index));
                    &#125; else &#123;
                        pools.add(new JedisPool(poolConfig, ip, Integer.valueOf(port), 2000, null, index));
                    &#125;
                &#125; catch (Exception e) &#123;
                    pools = Lists.newArrayList();
                    log.error(&quot;[ShardedRedisFactory] [initByShard] [error] [hosts:&quot; + hosts + &quot;] [password:&quot; + password + &quot;]&quot;, e);
                &#125;
            &#125;
            size = pools.size();
        &#125;

        this.threadPoolExecutor = new ThreadPoolExecutor(10,20,3, TimeUnit.MINUTES,new LinkedBlockingDeque&lt;&gt;(50),new ThreadPoolExecutor.DiscardPolicy());

        // æ„é€ æ± 
        log.info(&quot;[ShardedRedisFactory] [initByShard] [success] [hosts:&#123;&#125;] [password:&#123;&#125;] [masterName:&#123;&#125;] [pool:&#123;&#125;]&quot;, hosts, password);
    &#125;

    private JedisPool getJedisPool(int c) &#123;
        int index = c % size;
        return pools.get(index);
    &#125;

    private static int getIndexFromPath(String path) &#123;
        String first=path.split(&quot;\\.&quot;)[0];
        return  first.charAt(first.length() - 1);
    &#125;

    /**
     * @param filePath file path
     * @return
     */
    public byte[] get(String filePath) &#123;
        if (cacheIsAvailable()) return null;
        JedisPool jedisPool = getJedisPool(getIndexFromPath(filePath));
        Jedis jedis = null;
        try &#123;
            jedis = jedisPool.getResource();
            return jedis.get(filePath.getBytes());
        &#125; catch (Exception e) &#123;
            log.error(e.getMessage());
            return null;
        &#125; finally &#123;
            if (jedis != null)
                jedis.close();
        &#125;
    &#125;

    public String set(String filePath, byte[] datas) &#123;
        if (cacheIsAvailable()) return null;
        JedisPool jedisPool = getJedisPool(getIndexFromPath(filePath));
        Jedis jedis = null;
        try &#123;
            jedis = jedisPool.getResource();
            return jedis.set(filePath.getBytes(), datas);
        &#125; catch (Exception e) &#123;
            log.error(e.getMessage());
            return null;
        &#125; finally &#123;
            if (jedis != null)
                jedis.close();
        &#125;
    &#125;

    public void asynSet(String filePath, byte[] datas,long expx)&#123;
        if (cacheIsAvailable()) return;
        threadPoolExecutor.execute(()-&gt;&#123;
                JedisPool jedisPool = getJedisPool(getIndexFromPath(filePath));
                Jedis jedis = null;
                try &#123;
                    jedis = jedisPool.getResource();
                    jedis.set(filePath.getBytes(), datas,&quot;NX&quot;.getBytes(),&quot;EX&quot;.getBytes(),expx);
                &#125; catch (Exception e) &#123;
                    log.error(e.getMessage());
                &#125; finally &#123;
                    if (jedis != null)
                        jedis.close();
                &#125;
        &#125;);
    &#125;
    private boolean cacheIsAvailable() &#123;
        if(pools.size()==0)&#123;
            return true;
        &#125;
        return false;
    &#125;

&#125;</code></pre>
<p>#æ€»ç»“ï¼š</p>
<ol>
<li>åœ¨ä½¿ç”¨åšæ–°åŠŸèƒ½æ—¶ï¼Œæ–¹ä¾¿æ—¶è¦æ·»åŠ å¼€å…³æˆ–åˆç†çš„å›æ»šæ–¹æ¡ˆï¼Œæ–¹ä¾¿å¿«é€Ÿçš„å›æ»šå‡å°‘äº‹æ•…çš„å½±å“</li>
<li>æ’æŸ¥é”™è¯¯ï¼Œä¸€æŸ¥åˆ°åº•</li>
</ol>


        

        
            <div class="full-width auto-padding tags">
                
                    <a href="/tags/bug/">bug</a>
                
                    <a href="/tags/%E7%BC%93%E5%AD%98/">ç¼“å­˜</a>
                
                    <a href="/tags/redis/">redis</a>
                
            </div>
        
    </section>
</article>

    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
    <section class="meta">
        
            <h2 class="title">
                <a href="/2015/10/30/ansible%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/">
                    Ansible
                </a>
            </h2>
        
        <time>
            10æœˆ 30, 2015
        </time>
        
    
    <div class='cats'>
        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
    </div>

    </section>
    <section class="article typo">
        <p>#<a target="_blank" rel="noopener" href="http://sofar.blog.51cto.com/353572/1579894">ansible</a></p>
<pre><code>apt-get install ansible</code></pre>


        

        
            <div class="full-width auto-padding tags">
                
                    <a href="/tags/%E8%BF%90%E7%BB%B4/">è¿ç»´</a>
                
                    <a href="/tags/ansible/">ansible</a>
                
            </div>
        
    </section>
</article>

    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
    <section class="meta">
        
            <h2 class="title">
                <a href="/2015/10/10/jmeter%E8%BF%9B%E8%A1%8C%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/">
                    JMeter
                </a>
            </h2>
        
        <time>
            10æœˆ 10, 2015
        </time>
        
    
    <div class='cats'>
        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
    </div>

    </section>
    <section class="article typo">
        <p>##JMeteræ˜¯ç”¨æ¥åšä»€ä¹ˆçš„</p>
<blockquote>
<p>æ˜¯ä¸€ä¸ªApacheçš„ä¸€ä¸ªå¼€æºç¨‹åºï¼Œä¸€ä¸ª100%çš„é’ˆå¯¹å‹åŠ›æ¨¡å—å’ŒåŠŸèƒ½å‹åŠ›æµ‹è¯•çº¯Javaåº”ç”¨ï¼Œæœ€åˆæ˜¯ä¸“é—¨ä¸ºWebåº”ç”¨ç¨‹åºè€Œè®¾è®¡ çš„ï¼Œä½†æ˜¯ç›®å‰å·²ç»æ‰©å±•åˆ°åˆ«çš„åŠŸèƒ½ æµ‹è¯•ã€‚</p>
</blockquote>
<ul>
<li><p>èƒ½åšä»€ä¹ˆï¼Ÿ</p>
<p>ç”¨æ¥æµ‹è¯•åŠ¨æ€ å’Œ é™æ€èµ„æº(Webservices(SOAP/REST),Web dynamic languages -PHP,JAva,ASP.NET,Files,etc.Jav)</p>
</li>
</ul>
<p>##å¦‚ä½•æœ¬åœ°è¿›è¡ŒæœåŠ¡å‹åŠ›æµ‹è¯•</p>
<ul>
<li><p>åœ¨libä¸‹å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦‚testsï¼Œå°†æ‰€æœ‰è‡ªå·±ç”¨åˆ°çš„jarï¼Œæ”¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚</p>
</li>
<li><p>å°†è‡ªå·±çš„æµ‹è¯•jaræ”¾åˆ° lib/extä¸‹é¢</p>
</li>
<li><p>å°†è‡ªå·±çš„ç¨‹åºä¾èµ–çš„jaræ–‡ä»¶å¤¹ï¼Œé…ç½®åˆ°é…ç½®æ–‡ä»¶<br>user.classpath=../lib/tests</p>
</li>
</ul>
<p>##å¦‚ä½•åˆ†å‘åˆ°ä¸åŒçš„æœºå™¨è¿›è¡Œå‹åŠ›æµ‹è¯•</p>
<blockquote>
<p>å‚è€ƒå®˜æ–¹æ–‡æ¡£<a target="_blank" rel="noopener" href="http://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.pdf">http://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.pdf</a></p>
</blockquote>
<p>##èšåˆåˆ†æ</p>
<pre><code>Labelï¼šæ¯ä¸ª JMeter çš„ elementï¼ˆä¾‹å¦‚ HTTP Requestï¼‰éƒ½æœ‰ä¸€ä¸ª Name å±æ€§ï¼Œè¿™é‡Œæ˜¾ç¤ºçš„å°±æ˜¯ Name å±æ€§çš„å€¼

#Samplesï¼šè¡¨ç¤ºä½ è¿™æ¬¡æµ‹è¯•ä¸­ä¸€å…±å‘å‡ºäº†å¤šå°‘ä¸ªè¯·æ±‚ï¼Œå¦‚æœæ¨¡æ‹Ÿ10ä¸ªç”¨æˆ·ï¼Œæ¯ä¸ªç”¨æˆ·è¿­ä»£10æ¬¡ï¼Œé‚£ä¹ˆè¿™é‡Œæ˜¾ç¤º100

Averageï¼šå¹³å‡å“åº”æ—¶é—´â€”â€”é»˜è®¤æƒ…å†µä¸‹æ˜¯å•ä¸ª Request çš„å¹³å‡å“åº”æ—¶é—´ï¼Œå½“ä½¿ç”¨äº† Transaction Controller æ—¶ï¼Œä¹Ÿå¯ä»¥ä»¥Transaction ä¸ºå•ä½æ˜¾ç¤ºå¹³å‡å“åº”æ—¶é—´

Medianï¼šä¸­ä½æ•°ï¼Œä¹Ÿå°±æ˜¯ 50ï¼… ç”¨æˆ·çš„å“åº”æ—¶é—´

90% Lineï¼š90ï¼… ç”¨æˆ·çš„å“åº”æ—¶é—´

Noteï¼šå…³äº 50ï¼… å’Œ 90ï¼… å¹¶å‘ç”¨æˆ·æ•°çš„å«ä¹‰ï¼Œè¯·å‚è€ƒä¸‹æ–‡

http://www.cnblogs.com/jackei/archive/2006/11/11/557972.html

Minï¼šæœ€å°å“åº”æ—¶é—´

Maxï¼šæœ€å¤§å“åº”æ—¶é—´

Error%ï¼šæœ¬æ¬¡æµ‹è¯•ä¸­å‡ºç°é”™è¯¯çš„è¯·æ±‚çš„æ•°é‡/è¯·æ±‚çš„æ€»æ•°

Throughputï¼šååé‡â€”â€”é»˜è®¤æƒ…å†µä¸‹è¡¨ç¤ºæ¯ç§’å®Œæˆçš„è¯·æ±‚æ•°ï¼ˆRequest per Secondï¼‰ï¼Œå½“ä½¿ç”¨äº† Transaction Controller æ—¶ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºç±»ä¼¼ LoadRunner çš„ Transaction per Second æ•°

KB/Secï¼šæ¯ç§’ä»æœåŠ¡å™¨ç«¯æ¥æ”¶åˆ°çš„æ•°æ®é‡ï¼Œç›¸å½“äºLoadRunnerä¸­çš„Throughput/Sec</code></pre>
<p>###é—®é¢˜</p>
<p>####Jmeter-serverå¯åŠ¨å¤±è´¥ï¼šCannot start. Unable to get local host IP address. is a loopback address</p>
<pre><code>    åœ¨Windowsä¸‹å¯åŠ¨Jmeteréå¸¸é¡ºåˆ©ï¼Œè½¬åˆ°Linuxä¸‹å±…ç„¶å¯åŠ¨å¤±è´¥ã€‚
    æƒ³èµ·ä¹‹å‰ é‡åˆ°â€œ/etc/hostsæ–‡ä»¶è®¾ç½®ä¸å¯¹å¯¼è‡´Jbosså¯åŠ¨å¤±è´¥â€ï¼Œ ç«‹é©¬æŠŠç„¦ç‚¹æŒ‡å‘/etc/hostsã€‚

    æœç„¶è¿˜æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œè´´/etc/hostsç¤ºä¾‹ï¼š

    127.0.0.1       localhost.localdomain localhost
    10.20.10.31   higkoo.rdev.company.net higkoo

    æ‰§è¡Œå‘½ä»¤`hostname`æŸ¥çœ‹å½“å‰æœºå™¨åå¦‚æœå½“å‰æœºå™¨åä¸/etc/hostsä¸ä¸€è‡´ ï¼Œå¯æ‰‹åŠ¨å…ˆæ‰§è¡Œæˆä¸€æ¬¡`hostname yourhostname`æˆ–ç›´æ¥åŠ åˆ°jmeter-serveræ–‡ä»¶ä¸­ï¼ˆæ³¨æ„æœºå™¨åä¸­ä¸è¦å«åŸŸä¿¡æ¯ï¼Œè­¬å¦‚ï¼šmyname.rdev.company.comã€‚è¿™æ ·è®¾ç½®ä»ç„¶å¯åŠ¨å¤±è´¥ï¼‰ã€‚

    ç”±/etc/hostsæ–‡ä»¶å¯¼è‡´å¯åŠ¨å¤±è´¥çš„é”™è¯¯æœ‰ï¼š
    1
    Created remote object: UnicastServerRef [liveRef: [endpoint:[10.20.10.31:62090](local),objID:[2c639f6d:12794fca52a:-7fff, 712947915258586677]]]
    Server failed to start: java.rmi.RemoteException: Cannot start. higkoo is a loopback address.
    2
    Created remote object: UnicastServerRef [liveRef: [endpoint:[10.20.10.31:38796](local),objID:[-b0d822e:12794fee8b1:-7fff, 8314597152635832475]]]
    Server failed to start: java.rmi.RemoteException: Cannot start. Unable to get local host IP address.</code></pre>


        

        
            <div class="full-width auto-padding tags">
                
                    <a href="/tags/java/">java</a>
                
                    <a href="/tags/%E6%B5%8B%E8%AF%95/">æµ‹è¯•</a>
                
                    <a href="/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">æ€§èƒ½æµ‹è¯•</a>
                
                    <a href="/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/">å‹åŠ›æµ‹è¯•</a>
                
                    <a href="/tags/jmeter/">jmeter</a>
                
            </div>
        
    </section>
</article>

    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
    <section class="meta">
        
            <h2 class="title">
                <a href="/2015/09/25/zookeeper%E5%AD%A6%E4%B9%A0%E5%8F%8A%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/">
                    zookeeperå­¦ä¹ åŠé¡¹ç›®å®è·µ
                </a>
            </h2>
        
        <time>
            9æœˆ 25, 2015
        </time>
        
    
    <div class='cats'>
        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
    </div>

    </section>
    <section class="article typo">
        <blockquote>
<blockquote>
<p>ZooKeeper is a centralized service for maintaining configuration information, naming, providing distributed synchronization, and providing group services. ã€‚</p>
</blockquote>
</blockquote>
<pre><code>å®ƒè®¾è®¡ä¸€ç§æ–°çš„æ•°æ®ç»“æ„â€”â€”Znodeï¼Œç„¶ååœ¨è¯¥æ•°æ®ç»“æ„çš„åŸºç¡€ä¸Šå®šä¹‰äº†ä¸€äº›åŸè¯­ï¼Œä¹Ÿå°±æ˜¯ä¸€äº›å…³äºè¯¥æ•°æ®ç»“æ„çš„ä¸€äº›æ“ä½œã€‚æœ‰äº†è¿™äº›æ•°æ®ç»“æ„å’ŒåŸè¯­è¿˜ä¸å¤Ÿï¼Œå› ä¸ºæˆ‘ä»¬çš„ZooKeeperæ˜¯å·¥ä½œåœ¨ä¸€ä¸ªåˆ†å¸ƒå¼çš„ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬çš„æœåŠ¡æ˜¯é€šè¿‡æ¶ˆæ¯ä»¥ç½‘ç»œçš„å½¢å¼å‘é€ç»™æˆ‘ä»¬çš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸€ä¸ªé€šçŸ¥æœºåˆ¶â€”â€”Watcheræœºåˆ¶ã€‚é‚£ä¹ˆæ€»ç»“ä¸€ä¸‹ï¼ŒZooKeeperæ‰€æä¾›çš„æœåŠ¡ä¸»è¦æ˜¯é€šè¿‡ï¼šæ•°æ®ç»“æ„+åŸè¯­+watcheræœºåˆ¶ï¼Œä¸‰ä¸ªéƒ¨åˆ†æ¥å®ç°çš„ã€‚</code></pre>
<h2 id="ä½¿ç”¨åœºæ™¯ä¸‹ä¼šä½¿ç”¨zookeeper"><a href="#ä½¿ç”¨åœºæ™¯ä¸‹ä¼šä½¿ç”¨zookeeper" class="headerlink" title="ä½¿ç”¨åœºæ™¯ä¸‹ä¼šä½¿ç”¨zookeeper"></a>ä½¿ç”¨åœºæ™¯ä¸‹ä¼šä½¿ç”¨zookeeper</h2><ol>
<li>é¡¹ç›®ä¸­åœ¨ç›‘æ§mongodbçš„oplogæ¥è¿›è¡ŒåŒæ­¥æ•°æ®åº“çš„å˜æ›´ç»™åˆ«çš„éƒ¨é—¨.è‹¥æƒ³åšçš„å¤šæœºäº’å¤‡,å°±éœ€è¦ä½¿ç”¨åˆ°åˆ†å¸ƒå¼é”,ç”±ä¸€å°æœºå™¨è¿›è¡Œå¯¹oplogçš„å˜åŒ–è¿›è¡ŒåŒæ­¥</li>
<li>é¡¹ç›®åœ¨å®šæ—¶å‘é€æé†’,å¤šå°æœåŠ¡å™¨è¿›è¡Œå‘¨æœŸæ‰«åº“æ“ä½œ,ä¹ŸåŒæ ·ç”¨åˆ°äº†1ä¸­çš„åˆ†å¸ƒå¼é”</li>
<li>å‡è®¾æˆ‘ä»¬æœ‰20ä¸ªæœç´¢å¼•æ“çš„æœåŠ¡å™¨(æ¯ä¸ªè´Ÿè´£æ€»ç´¢å¼•ä¸­çš„ä¸€éƒ¨åˆ†çš„æœç´¢ä»»åŠ¡)å’Œä¸€ä¸ªæ€»æœåŠ¡å™¨(è´Ÿè´£å‘è¿™20ä¸ªæœç´¢å¼•æ“çš„æœåŠ¡å™¨å‘å‡ºæœç´¢è¯·æ±‚å¹¶åˆå¹¶ç»“æœé›†)ï¼Œä¸€ä¸ªå¤‡ç”¨çš„æ€»æœåŠ¡å™¨(è´Ÿè´£å½“æ€»æœåŠ¡å™¨å®•æœºæ—¶æ›¿æ¢æ€»æœåŠ¡å™¨)ï¼Œä¸€ä¸ªwebçš„cgi(å‘æ€»æœåŠ¡å™¨å‘å‡ºæœç´¢è¯·æ±‚)ã€‚æœç´¢å¼•æ“çš„æœåŠ¡å™¨ä¸­çš„15ä¸ªæœåŠ¡å™¨æä¾›æœç´¢æœåŠ¡ï¼Œ5ä¸ªæœåŠ¡å™¨æ­£åœ¨ç”Ÿæˆç´¢å¼•ã€‚è¿™20ä¸ªæœç´¢å¼•æ“çš„æœåŠ¡å™¨ç»å¸¸è¦è®©æ­£åœ¨æä¾›æœç´¢æœåŠ¡çš„æœåŠ¡å™¨åœæ­¢æä¾›æœåŠ¡å¼€å§‹ç”Ÿæˆç´¢å¼•ï¼Œæˆ–ç”Ÿæˆç´¢å¼•çš„æœåŠ¡å™¨å·²ç»æŠŠç´¢å¼•ç”Ÿæˆå®Œæˆå¯ä»¥æä¾›æœç´¢æœåŠ¡äº†ã€‚ä½¿ç”¨Zookeeperå¯ä»¥ä¿è¯æ€»æœåŠ¡å™¨è‡ªåŠ¨æ„ŸçŸ¥æœ‰å¤šå°‘æä¾›æœç´¢å¼•æ“çš„æœåŠ¡å™¨å¹¶å‘è¿™äº›æœåŠ¡å™¨å‘å‡ºæœç´¢è¯·æ±‚ï¼Œå½“æ€»æœåŠ¡å™¨å®•æœºæ—¶è‡ªåŠ¨å¯ç”¨å¤‡ç”¨çš„æ€»æœåŠ¡å™¨.â€”<a target="_blank" rel="noopener" href="https://www.oschina.net/p/zookeeper">åˆ†å¸ƒå¼ç³»ç»Ÿåè°ƒ ZooKeeper</a></li>
</ol>
<h2 id="zookeeperæ¥æºæ˜¯ä»€ä¹ˆ"><a href="#zookeeperæ¥æºæ˜¯ä»€ä¹ˆ" class="headerlink" title="zookeeperæ¥æºæ˜¯ä»€ä¹ˆ?"></a>zookeeperæ¥æºæ˜¯ä»€ä¹ˆ?</h2><p>ZooKeeperæ˜¯ä¸€ç§ä¸ºåˆ†å¸ƒå¼åº”ç”¨æ‰€è®¾è®¡çš„é«˜å¯ç”¨ã€é«˜æ€§èƒ½ä¸”ä¸€è‡´çš„å¼€æºåè°ƒæœåŠ¡ï¼Œå®ƒæä¾›äº†ä¸€é¡¹åŸºæœ¬æœåŠ¡ï¼šåˆ†å¸ƒå¼é”æœåŠ¡ã€‚ç”±äºZooKeeperçš„å¼€æºç‰¹æ€§ï¼Œåæ¥æˆ‘ä»¬çš„å¼€å‘è€…åœ¨åˆ†å¸ƒå¼é”çš„åŸºç¡€ä¸Šï¼Œæ‘¸ç´¢äº†å‡ºäº†å…¶ä»–çš„ä½¿ç”¨æ–¹æ³•ï¼šé…ç½®ç»´æŠ¤ã€ç»„æœåŠ¡ã€åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ã€åˆ†å¸ƒå¼é€šçŸ¥/åè°ƒç­‰ã€‚</p>
<h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><ol>
<li>æ¯ä¸ªServeråœ¨å†…å­˜ä¸­å­˜å‚¨äº†ä¸€ä»½æ•°æ®ï¼›</li>
<li>Zookeeperå¯åŠ¨æ—¶ï¼Œå°†ä»å®ä¾‹ä¸­é€‰ä¸¾ä¸€ä¸ªleaderï¼ˆLeaderé€‰ä¸¾ç®—æ³•é‡‡ç”¨äº†<a href="/2016/09/16/Paxos/">Paxosåè®®</a>ï¼›Paxosæ ¸å¿ƒæ€æƒ³ï¼šå½“å¤šæ•°Serverå†™æˆåŠŸï¼Œåˆ™ä»»åŠ¡æ•°æ®å†™æˆåŠŸã€‚æ•… Serveræ•°ç›®ä¸€èˆ¬ä¸ºå¥‡æ•°ï¼‰ï¼›</li>
<li>Leaderè´Ÿè´£å¤„ç†æ•°æ®æ›´æ–°ç­‰æ“ä½œï¼ˆ<a target="_blank" rel="noopener" href="http://blog.jobbole.com/104985/">Zabåè®®</a>ï¼‰ï¼›</li>
<li>ä¸€ä¸ªæ›´æ–°æ“ä½œæˆåŠŸï¼Œå½“ä¸”ä»…å½“å¤§å¤šæ•°Serveråœ¨å†…å­˜ä¸­æˆåŠŸä¿®æ”¹æ•°æ®ã€‚</li>
</ol>
<h2 id="ç»“æ„ç»„æˆ"><a href="#ç»“æ„ç»„æˆ" class="headerlink" title="ç»“æ„ç»„æˆ"></a>ç»“æ„ç»„æˆ</h2><ol>
<li>Leader è´Ÿè´£è¿›è¡ŒæŠ•ç¥¨çš„å‘èµ·å’Œå†³è®®,æ›´æ–°ç³»ç»ŸçŠ¶æ€</li>
<li>Learnerâ€“&gt;è·Ÿéšè€…Follower ç”¨äºæ¥æ”¶å®¢æˆ·è¯·æ±‚å¹¶å‘å®¢æˆ·ç«¯è¿”å›ç»“æœ,åœ¨é€‰æ‹©ä¸­å‚ä¸æŠ•ç¥¨</li>
<li>Learnerâ€“&gt;è§‚å¯Ÿè€…Observer å¯ä»¥æ¥æ”¶å®¢æˆ·ç«¯è¿æ¥,å°†å†™è¯·æ±‚è½¬å‘ç»™LeaderèŠ‚ç‚¹,ä½†å…¶ä¸å‚æ‚ŸæŠ•ç¥¨è¿‡ç¨‹,åªåŒæ­¥Leaderçš„çŠ¶æ€.å…¶ç›®çš„æ˜¯ä¸ºäº†æ‰©å±•ç³»ç»Ÿ,æé«˜è¯»å–é€Ÿåº¦</li>
<li>client è¯·æ±‚å‘èµ·æ–¹</li>
</ol>
<h2 id="å…·ä½“ç”¨åœ¨å“ªé‡Œ"><a href="#å…·ä½“ç”¨åœ¨å“ªé‡Œ" class="headerlink" title="å…·ä½“ç”¨åœ¨å“ªé‡Œ"></a>å…·ä½“ç”¨åœ¨å“ªé‡Œ</h2><ol>
<li>é…ç½®ç®¡ç†,ä¸€å¤„ä¿®æ”¹,ç›‘å¬è€…è¿›è¡Œæ›´æ–°</li>
<li>å‘½åæœåŠ¡</li>
<li>åˆ†å¸ƒå¼é” å³ Leader Election</li>
<li>é›†ç¾¤ç®¡ç†</li>
<li>é˜Ÿåˆ—ç®¡ç†</li>
</ol>
<h2 id="Zookeeperæ–‡ä»¶ç³»ç»Ÿ"><a href="#Zookeeperæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="Zookeeperæ–‡ä»¶ç³»ç»Ÿ"></a>Zookeeperæ–‡ä»¶ç³»ç»Ÿ</h2><p>   æ¯ä¸ªå­ç›®å½•é¡¹å¦‚ NameService éƒ½è¢«ç§°ä½œä¸ºznodeï¼Œå’Œæ–‡ä»¶ç³»ç»Ÿä¸€æ ·ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè‡ªç”±çš„å¢åŠ ã€åˆ é™¤znodeï¼Œåœ¨ä¸€ä¸ªznodeä¸‹å¢åŠ ã€åˆ é™¤å­znodeï¼Œå”¯ä¸€çš„ä¸åŒåœ¨äºznodeæ˜¯å¯ä»¥å­˜å‚¨æ•°æ®çš„ã€‚<br>   æœ‰å››ç§ç±»å‹çš„znodeï¼š</p>
<ol>
<li>PERSISTENT-æŒä¹…åŒ–ç›®å½•èŠ‚ç‚¹:å®¢æˆ·ç«¯ä¸zookeeperæ–­å¼€è¿æ¥åï¼Œè¯¥èŠ‚ç‚¹ä¾æ—§å­˜åœ¨</li>
<li>PERSISTENT_SEQUENTIAL-æŒä¹…åŒ–é¡ºåºç¼–å·ç›®å½•èŠ‚ç‚¹:å®¢æˆ·ç«¯ä¸zookeeperæ–­å¼€è¿æ¥åï¼Œè¯¥èŠ‚ç‚¹ä¾æ—§å­˜åœ¨ï¼Œåªæ˜¯Zookeeperç»™è¯¥èŠ‚ç‚¹åç§°è¿›è¡Œé¡ºåºç¼–å·</li>
<li>EPHEMERAL-ä¸´æ—¶ç›®å½•èŠ‚ç‚¹:å®¢æˆ·ç«¯ä¸zookeeperæ–­å¼€è¿æ¥åï¼Œè¯¥èŠ‚ç‚¹è¢«åˆ é™¤</li>
<li>EPHEMERAL_SEQUENTIAL-ä¸´æ—¶é¡ºåºç¼–å·ç›®å½•èŠ‚ç‚¹:å®¢æˆ·ç«¯ä¸zookeeperæ–­å¼€è¿æ¥åï¼Œè¯¥èŠ‚ç‚¹è¢«åˆ é™¤ï¼Œåªæ˜¯Zookeeperç»™è¯¥èŠ‚ç‚¹åç§°è¿›è¡Œé¡ºåºç¼–å·</li>
</ol>
<h2 id="Zookeeperçš„ç‰¹ç‚¹"><a href="#Zookeeperçš„ç‰¹ç‚¹" class="headerlink" title="Zookeeperçš„ç‰¹ç‚¹"></a>Zookeeperçš„ç‰¹ç‚¹</h2><ol>
<li>æœ€ç»ˆä¸€è‡´æ€§ï¼šä¸ºå®¢æˆ·ç«¯å±•ç¤ºåŒä¸€è§†å›¾ï¼Œè¿™æ˜¯zookeeperæœ€é‡è¦çš„åŠŸèƒ½ã€‚</li>
<li>å¯é æ€§ï¼šå¦‚æœæ¶ˆæ¯è¢«åˆ°ä¸€å°æœåŠ¡å™¨æ¥å—ï¼Œé‚£ä¹ˆå®ƒå°†è¢«æ‰€æœ‰çš„æœåŠ¡å™¨æ¥å—ã€‚</li>
<li>å®æ—¶æ€§ï¼šZookeeperä¸èƒ½ä¿è¯ä¸¤ä¸ªå®¢æˆ·ç«¯èƒ½åŒæ—¶å¾—åˆ°åˆšæ›´æ–°çš„æ•°æ®ï¼Œå¦‚æœéœ€è¦æœ€æ–°æ•°æ®ï¼Œåº”è¯¥åœ¨è¯»æ•°æ®ä¹‹å‰è°ƒç”¨sync()æ¥å£ã€‚</li>
<li>ç­‰å¾…æ— å…³ï¼ˆwait-freeï¼‰ï¼šæ…¢çš„æˆ–è€…å¤±æ•ˆçš„clientä¸å¹²é¢„å¿«é€Ÿçš„clientçš„è¯·æ±‚ã€‚</li>
<li>åŸå­æ€§ï¼šæ›´æ–°åªèƒ½æˆåŠŸæˆ–è€…å¤±è´¥ï¼Œæ²¡æœ‰ä¸­é—´çŠ¶æ€ã€‚</li>
<li>é¡ºåºæ€§ï¼šæ‰€æœ‰Serverï¼ŒåŒä¸€æ¶ˆæ¯å‘å¸ƒé¡ºåºä¸€è‡´ã€‚</li>
</ol>
<h2 id="åœºæ™¯åˆ†æ"><a href="#åœºæ™¯åˆ†æ" class="headerlink" title="åœºæ™¯åˆ†æ"></a>åœºæ™¯åˆ†æ</h2><ol>
<li>åˆ†å¸ƒå¼é”çš„åœºæ™¯ä½¿ç”¨</li>
</ol>
<pre><code><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">zkCli.sh -server x.x.x.x:4180</span><br><span class="line"></span><br><span class="line">ls /key</span><br><span class="line"></span><br><span class="line">&gt;[data, leader]</span><br><span class="line"></span><br><span class="line">[zk: x.x.x.x:4180(CONNECTED) 6] get /key/leader</span><br><span class="line"></span><br><span class="line">cZxid = 0xc1098cd0b0</span><br><span class="line">ctime = Sun Jul 16 13:10:01 CST 2017</span><br><span class="line">mZxid = 0xc1098cd0b0</span><br><span class="line">mtime = Sun Jul 16 13:10:01 CST 2017</span><br><span class="line">pZxid = 0xc112aec1c0</span><br><span class="line">cversion = 152</span><br><span class="line">dataVersion = 0</span><br><span class="line">aclVersion = 0</span><br><span class="line">ephemeralOwner = 0x0</span><br><span class="line">dataLength = 0</span><br><span class="line">numChildren = 2</span><br><span class="line"></span><br><span class="line">[zk: x.x.x.x:4180(CONNECTED) 7] ls /key/leader</span><br><span class="line">[_c_7ea9234d-3973-4e1d-8a6a-e2e30062cdc4-latch-0000000076, _c_5444e12a-c7ef-48bb-8ee6-271eea4a1c29-latch-0000000075]</span><br><span class="line">[zk: x.x.x.x:4180(CONNECTED) 8] get /key/leader/_c_7ea9234d-3973-4e1d-8a6a-e2e30062cdc4-latch-0000000076</span><br><span class="line">24</span><br><span class="line">cZxid = 0xc112aec1c0</span><br><span class="line">ctime = Fri Mar 30 16:58:50 CST 2018</span><br><span class="line">mZxid = 0xc112aec1c0</span><br><span class="line">mtime = Fri Mar 30 16:58:50 CST 2018</span><br><span class="line">pZxid = 0xc112aec1c0</span><br><span class="line">cversion = 0</span><br><span class="line">dataVersion = 0</span><br><span class="line">aclVersion = 0</span><br><span class="line">ephemeralOwner = 0xd5848ddc5ec71f6</span><br><span class="line">dataLength = 2</span><br><span class="line">numChildren = 0</span><br><span class="line"></span><br><span class="line">[zk: x.x.x.x:4180(CONNECTED) 9] get /key/leader/_c_5444e12a-c7ef-48bb-8ee6-271eea4a1c29-latch-0000000075</span><br><span class="line">5</span><br><span class="line">cZxid = 0xc1123e0f90</span><br><span class="line">ctime = Tue Mar 27 10:55:03 CST 2018</span><br><span class="line">mZxid = 0xc1123e0f90</span><br><span class="line">mtime = Tue Mar 27 10:55:03 CST 2018</span><br><span class="line">pZxid = 0xc1123e0f90</span><br><span class="line">cversion = 0</span><br><span class="line">dataVersion = 0</span><br><span class="line">aclVersion = 0</span><br><span class="line">ephemeralOwner = 0x259977a5b1b3de0</span><br><span class="line">dataLength = 1</span><br><span class="line">numChildren = 0</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre>
<h2 id="ç»å…¸æ–‡ç« é“¾æ¥"><a href="#ç»å…¸æ–‡ç« é“¾æ¥" class="headerlink" title="ç»å…¸æ–‡ç« é“¾æ¥"></a>ç»å…¸æ–‡ç« é“¾æ¥</h2><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000012185902">zookeeperç³»åˆ—</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/gaoshan12345678910/article/details/67638657">Leaderé€‰ä¸¾</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jsStudyjj/p/5360740.html">åŸºæœ¬æ¦‚å¿µ</a></p>


        

        
            <div class="full-width auto-padding tags">
                
                    <a href="/tags/java/">java</a>
                
                    <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">åˆ†å¸ƒå¼</a>
                
                    <a href="/tags/zookeeper/">zookeeper</a>
                
            </div>
        
    </section>
</article>

    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
    <section class="meta">
        
            <h2 class="title">
                <a href="/2015/09/22/Protobuf%E6%98%AF%E4%BB%80%E4%B9%88/">
                    Protobufæ˜¯ä»€ä¹ˆ
                </a>
            </h2>
        
        <time>
            9æœˆ 22, 2015
        </time>
        
    
    <div class='cats'>
        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
    </div>

    </section>
    <section class="article typo">
        <blockquote>
<p>æ¬¢è¿æ¥åˆ°protocol bufferçš„å¼€å‘è€…æŒ‡å—æ–‡æ¡£ï¼Œä¸€ç§è¯­è¨€æ— å…³ã€å¹³å°æ— å…³ã€æ‰©å±•æ€§å¥½çš„ç”¨äºé€šä¿¡åè®®ã€æ•°æ®å­˜å‚¨çš„ç»“æ„åŒ–æ•°æ®ä¸²è¡ŒåŒ–æ–¹æ³•ã€‚æœ¬æ–‡æ¡£é¢å‘å¸Œæœ›ä½¿ç”¨protocol bufferçš„Javaã€C++æˆ–Pythonå¼€å‘è€…ã€‚è¿™ä¸ªæ¦‚è§ˆä»‹ç»äº†protocol bufferï¼Œå¹¶å‘Šè¯‰ä½ å¦‚ä½•å¼€å§‹ï¼Œä½ éšåå¯ä»¥è·Ÿéš<a target="_blank" rel="noopener" href="http://code.google.com/apis/protocolbuffers/docs/tutorials.html">ç¼–ç¨‹æŒ‡å¯¼</a>æ·±å…¥äº†è§£<a target="_blank" rel="noopener" href="http://code.google.com/apis/protocolbuffers/docs/encoding.html">protocol bufferç¼–ç æ–¹å¼</a>ã€‚<a target="_blank" rel="noopener" href="http://code.google.com/apis/protocolbuffers/docs/reference/overview.html">APIå‚è€ƒæ–‡æ¡£</a>åŒæ ·ä¹Ÿæ˜¯æä¾›äº†è¿™ä¸‰ç§ç¼–ç¨‹è¯­è¨€çš„ç‰ˆæœ¬ï¼Œä¸å¤Ÿ<a target="_blank" rel="noopener" href="http://code.google.com/apis/protocolbuffers/docs/proto.html">åè®®è¯­è¨€</a>å’Œ<a target="_blank" rel="noopener" href="http://code.google.com/apis/protocolbuffers/docs/style.html">æ ·å¼</a>æŒ‡å¯¼éƒ½æ˜¯ç¼–å†™ .proto æ–‡ä»¶ã€‚</p>
</blockquote>
<h4 id="ä»€ä¹ˆæ˜¯protocol-buffer"><a href="#ä»€ä¹ˆæ˜¯protocol-buffer" class="headerlink" title="ä»€ä¹ˆæ˜¯protocol buffer"></a>ä»€ä¹ˆæ˜¯<a target="_blank" rel="noopener" href="http://www.ibm.com/developerworks/cn/linux/l-cn-gpb/">protocol buffer</a></h4><p>ProtocolBufferæ˜¯ç”¨äºç»“æ„åŒ–æ•°æ®ä¸²è¡ŒåŒ–çš„çµæ´»ã€é«˜æ•ˆã€è‡ªåŠ¨çš„æ–¹æ³•ï¼Œæœ‰å¦‚XMLï¼Œä¸è¿‡å®ƒæ›´å°ã€æ›´å¿«ã€ä¹Ÿæ›´ç®€å•ã€‚ä½ å¯ä»¥å®šä¹‰è‡ªå·±çš„æ•°æ®ç»“æ„ï¼Œç„¶åä½¿ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ¥è¯»å†™è¿™ä¸ªæ•°æ®ç»“æ„ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨æ— éœ€é‡æ–°éƒ¨ç½²ç¨‹åºçš„æƒ…å†µä¸‹æ›´æ–°æ•°æ®ç»“æ„ã€‚</p>
<h4 id="ä»–ä»¬å¦‚ä½•å·¥ä½œ"><a href="#ä»–ä»¬å¦‚ä½•å·¥ä½œ" class="headerlink" title="ä»–ä»¬å¦‚ä½•å·¥ä½œ"></a>ä»–ä»¬å¦‚ä½•å·¥ä½œ</h4><p>ä½ é¦–å…ˆéœ€è¦åœ¨ä¸€ä¸ª .proto æ–‡ä»¶ä¸­å®šä¹‰ä½ éœ€è¦åšä¸²è¡ŒåŒ–çš„æ•°æ®ç»“æ„ä¿¡æ¯ã€‚æ¯ä¸ªProtocolBufferä¿¡æ¯æ˜¯ä¸€å°æ®µé€»è¾‘è®°å½•ï¼ŒåŒ…å«ä¸€ç³»åˆ—çš„é”®å€¼å¯¹ã€‚è¿™é‡Œæœ‰ä¸ªéå¸¸ç®€å•çš„ .proto æ–‡ä»¶å®šä¹‰äº†ä¸ªäººä¿¡æ¯:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">message Person &#123;</span><br><span class="line">    required string name=<span class="number">1</span>;</span><br><span class="line">    required int32 id=<span class="number">2</span>;</span><br><span class="line">    optional string email=<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">PhoneType</span> </span>&#123;</span><br><span class="line">        MOBILE=<span class="number">0</span>;</span><br><span class="line">        HOME=<span class="number">1</span>;</span><br><span class="line">        WORK=<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    message PhoneNumber &#123;</span><br><span class="line">        required string number=<span class="number">1</span>;</span><br><span class="line">        optional PhoneType type=<span class="number">2</span> [<span class="keyword">default</span>=HOME];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    repeated PhoneNumber phone=<span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ‰å¦‚ä½ æ‰€è§ï¼Œæ¶ˆæ¯æ ¼å¼å¾ˆç®€å•ï¼Œæ¯ä¸ªæ¶ˆæ¯ç±»å‹æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹å®šçš„æ•°å­—å­—æ®µï¼Œæ¯ä¸ªå­—æ®µæ‹¥æœ‰ä¸€ä¸ªåå­—å’Œä¸€ä¸ªå€¼ç±»å‹ã€‚å€¼ç±»å‹å¯ä»¥æ˜¯æ•°å­—(æ•´æ•°æˆ–æµ®ç‚¹)ã€å¸ƒå°”å‹ã€å­—ç¬¦ä¸²ã€åŸå§‹å­—èŠ‚æˆ–è€…å…¶ä»–ProtocolBufferç±»å‹ï¼Œè¿˜å…è®¸æ•°æ®ç»“æ„çš„åˆ†çº§ã€‚ä½ å¯ä»¥æŒ‡å®šå¯é€‰å­—æ®µï¼Œå¿…é€‰å­—æ®µå’Œé‡å¤å­—æ®µã€‚ä½ å¯ä»¥åœ¨<a target="_blank" rel="noopener" href="http://code.google.com/apis/protocolbuffers/docs/proto.html">proto.html</a>æ‰¾åˆ°æ›´å¤šå…³äºå¦‚ä½•ç¼–å†™ .proto æ–‡ä»¶çš„ä¿¡æ¯ã€‚</p>
<p>ä¸€æ—¦ä½ å®šä¹‰äº†è‡ªå·±çš„æŠ¥æ–‡æ ¼å¼(message)ï¼Œä½ å°±å¯ä»¥è¿è¡ŒProtocolBufferç¼–è¯‘å™¨ï¼Œå°†ä½ çš„ .proto æ–‡ä»¶ç¼–è¯‘æˆç‰¹å®šè¯­è¨€çš„ç±»ã€‚</p>
<h4 id="ä¸ºä»€ä¹ˆä¸ç”¨XML"><a href="#ä¸ºä»€ä¹ˆä¸ç”¨XML" class="headerlink" title="ä¸ºä»€ä¹ˆä¸ç”¨XML?"></a>ä¸ºä»€ä¹ˆä¸ç”¨XML?</h4><p>ProtocolBufferæ‹¥æœ‰å¤šé¡¹æ¯”XMLæ›´é«˜çº§çš„ä¸²è¡ŒåŒ–ç»“æ„æ•°æ®çš„ç‰¹æ€§ï¼ŒProtocolBufferï¼š</p>
<pre><code>    æ›´ç®€å•
    å°3-10å€
    å¿«20-100å€
    æ›´å°‘çš„æ­§ä¹‰
    å¯ä»¥æ–¹ä¾¿çš„ç”Ÿæˆæ•°æ®å­˜å–ç±» </code></pre>
<p>ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨XMLä¸­å»ºæ¨¡Personçš„nameå’Œemailå­—æ®µ:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">person</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>John Doe<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">email</span>&gt;</span>jdoe@example.com<span class="tag">&lt;/<span class="name">email</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">person</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¯¹åº”çš„ProtocolBufferæŠ¥æ–‡åˆ™å¦‚ä¸‹:</p>
<p>ProtocolBufferçš„æ–‡æœ¬è¡¨ç¤º<br>è¿™ä¸æ˜¯æ­£å¸¸æ—¶ä½¿ç”¨çš„äºŒè¿›åˆ¶æ•°æ®</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">person</span> &#123;</span><br><span class="line">    <span class="attribute">name</span>: <span class="string">&quot;John Doe&quot;</span></span><br><span class="line">    email: <span class="string">&quot;jdoe@example.com&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“è¿™ä¸ªæŠ¥æ–‡ç¼–ç åˆ°ProtocolBufferçš„<a target="_blank" rel="noopener" href="http://code.google.com/apis/protocolbuffers/docs/encoding.html">äºŒè¿›åˆ¶æ ¼å¼</a>æ—¶(ä¸Šé¢çš„æ–‡æœ¬ä»…ç”¨äºè°ƒè¯•å’Œç¼–è¾‘)ï¼Œå®ƒåªéœ€è¦28å­—èŠ‚å’Œ100-200nsçš„è§£ææ—¶é—´ã€‚è€ŒXMLçš„ç‰ˆæœ¬éœ€è¦69å­—èŠ‚(é™¤å»ç©ºç™½)å’Œ 5000-10000nsçš„è§£ææ—¶é—´ã€‚</p>


        

        
            <div class="full-width auto-padding tags">
                
                    <a href="/tags/java/">java</a>
                
                    <a href="/tags/Protobuf/">Protobuf</a>
                
            </div>
        
    </section>
</article>

    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
    <section class="meta">
        
            <h2 class="title">
                <a href="/2015/09/13/JAVA%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/">
                    è®¾è®¡æ¨¡å¼ä¹‹åˆ›å»ºå‹æ¨¡å¼
                </a>
            </h2>
        
        <time>
            9æœˆ 13, 2015
        </time>
        
    
    <div class='cats'>
        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
    </div>

    </section>
    <section class="article typo">
        <p>##åˆ›å»ºå‹æ¨¡å¼<br>è¿™å…­ä¸ªæ¨¡å¼éƒ½æ˜¯ä¸åˆ›å»ºå¯¹è±¡ç›¸å…³çš„</p>
<ul>
<li>ç®€å•å·¥å‚æ¨¡å¼ï¼ˆSimple Factoryï¼‰ï¼›</li>
<li>å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory Methodï¼‰ï¼›</li>
<li>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factoryï¼‰ï¼›</li>
<li>åˆ›å»ºè€…æ¨¡å¼ï¼ˆBuilderï¼‰ï¼›</li>
<li>åŸå‹æ¨¡å¼ï¼ˆPrototypeï¼‰ï¼›</li>
<li>å•ä¾‹æ¨¡å¼ï¼ˆSingletonï¼‰ï¼›</li>
</ul>
<h3 id="ç®€å•å·¥å‚æ¨¡å¼-Simple-Factory-ï¼›"><a href="#ç®€å•å·¥å‚æ¨¡å¼-Simple-Factory-ï¼›" class="headerlink" title="ç®€å•å·¥å‚æ¨¡å¼(Simple Factory)ï¼›"></a>ç®€å•å·¥å‚æ¨¡å¼(Simple Factory)ï¼›</h3><h3 id="å·¥å‚æ–¹æ³•æ¨¡å¼-Factory-Method-ï¼›"><a href="#å·¥å‚æ–¹æ³•æ¨¡å¼-Factory-Method-ï¼›" class="headerlink" title="å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method)ï¼›"></a>å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method)ï¼›</h3><p>å»ºç«‹ä¸€ä¸ªå·¥å‚ç±»ï¼Œå¯¹å®ç°åŒä¸€æ¥å£çš„ç±»è¿›è¡Œå®ä¾‹åŒ–åˆ›å»ºã€‚</p>
<img  src='/images/pattern/factory_1.png' class='col-xs-12 thumbnail'/>
``

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.factory;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IParser</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">parse</span><span class="params">(Object obj)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.factory;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JSONParser</span> <span class="keyword">implements</span> <span class="title">IParser</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">parse</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//create json string</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;class:&quot;</span>+obj.getClass()+<span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.factory;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XMLParser</span> <span class="keyword">implements</span> <span class="title">IParser</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">parse</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//create xml string....</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;object&gt;&lt;class&gt;&quot;</span>+obj.getClass()+<span class="string">&quot;&lt;/class&gt;&lt;/object&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.factory;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ParserFactory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span>  String  TYPE_XML=<span class="string">&quot;xml&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String  TYPE_JSON=<span class="string">&quot;json&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IParser <span class="title">buildParser</span><span class="params">(String type)</span></span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (type)&#123;</span><br><span class="line">            <span class="keyword">case</span> ParserFactory.TYPE_XML:<span class="keyword">return</span> <span class="keyword">new</span> XMLParser();</span><br><span class="line">            <span class="keyword">case</span> ParserFactory.TYPE_JSON:<span class="keyword">return</span> <span class="keyword">new</span> JSONParser();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">       IParser parser= ParserFactory.buildParser(ParserFactory.TYPE_JSON);</span><br><span class="line">        System.out.print(parser.parse(parser));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//output &#123;class:JSONParser&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="æŠ½è±¡å·¥å‚æ¨¡å¼-Abstract-Factory-ï¼›"><a href="#æŠ½è±¡å·¥å‚æ¨¡å¼-Abstract-Factory-ï¼›" class="headerlink" title="æŠ½è±¡å·¥å‚æ¨¡å¼(Abstract Factory)ï¼›"></a>æŠ½è±¡å·¥å‚æ¨¡å¼(Abstract Factory)ï¼›</h3><p>å·¥å‚æ–¹æ³•ï¼Œæ¯åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»æ—¶ï¼Œå°±è¦ä¸ªæ€§ç±»å·¥å‚ç±»ï¼Œè¿™æ ·æ‹“å±•æ€§æ¯”è¾ƒå·®ï¼Œå¦‚ä½•èƒ½é€šè¿‡ä¸ä¸ªæ€§å·¥å‚ç±»è€Œè¿›è¡Œæ‰©å±•å‘¢ã€‚è¿™é‡Œå°±ç”¨åˆ°äº†æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œå°±æ˜¯åˆ›å»ºå¤šä¸ªå·¥å‚ï¼Œä¸€æ—¦è¦å¢åŠ æ–°çš„ç±»å‹å°±å¢åŠ ä¸€ä¸ªæ–°çš„å·¥å‚ï¼Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰ä»£ç ã€‚</p>
<img  src='/images/pattern/abstractfactory.png' class='col-xs-12 thumbnail'/>
åŸºäºä¸Šé¢ä»£ç å°†ParserFactoryå·¥å‚ç±»ç”¨ä¸€ä¸ªæŠ½è±¡å·¥å‚ç±»å’Œä¸¤ä¸ªå­å·¥å‚ç±»è¿›è¡Œä»£æ›¿

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.abstractfactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> design.pattern.factory.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractParserFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> IParser <span class="title">create</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.abstractfactory;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JSONParserFactory</span> <span class="keyword">extends</span> <span class="title">AbstractParserFactory</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function">IParser <span class="title">create</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> JSONParser();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.abstractfactory;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XMLParserFactory</span> <span class="keyword">extends</span> <span class="title">AbstractParserFactory</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function">IParser <span class="title">create</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> XMLParser();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å»ºé€ è€…æ¨¡å¼-Builder-ï¼›"><a href="#å»ºé€ è€…æ¨¡å¼-Builder-ï¼›" class="headerlink" title="å»ºé€ è€…æ¨¡å¼(Builder)ï¼›"></a>å»ºé€ è€…æ¨¡å¼(Builder)ï¼›</h3><p><code>GoFè¿™æ ·å®šä¹‰ï¼š</code></p>
<blockquote>
<p>å»ºé€ è€…æ¨¡å¼ï¼šæ˜¯å°†ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚</p>
</blockquote>
<img  src='/images/pattern/builder.png' class='col-xs-12 thumbnail'/>
å’±ä»¬è¿™é‡Œä»¥åˆ›å»ºåº”ç”¨ä¸ºä¾‹ï¼Œè¿™é‡Œæˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªåº”ç”¨ï¼Œè€ƒè¯•ç³»ç»Ÿå’ŒCRMç³»ç»Ÿï¼Œåˆ›å»ºè¿‡ç¨‹æ˜¯ï¼Œéœ€æ±‚->åŸå‹å›¾->å¼€å‘è®¡åˆ’->è¡¨è®¾è®¡->æ¶æ„è®¾è®¡->åŠŸèƒ½å®ç°->æµ‹è¯•->äº¤ä»˜ å¤§æ¦‚æ˜¯è¿™æ ·ä¸€ä¸ªç®€å•çš„è¿‡ç¨‹,è¿™é‡Œå°±ä¼šçœ‹åˆ°åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¾—åˆ°ä¸åŒçš„è¡¨ç¤ºã€‚

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.builder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Project</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Vector&lt;String&gt; impleProcess=<span class="keyword">new</span> Vector&lt;String&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(String imple)</span></span>&#123;</span><br><span class="line">        impleProcess.add(imple);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Vector&lt;String&gt; <span class="title">getImpleProcess</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> impleProcess;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.builder;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IProjectBuilder</span> </span>&#123;</span><br><span class="line">    <span class="function">Project <span class="title">getProject</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">makeRequirement</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">makePrototype</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">makeScheduler</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">makeTables</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">makeAppFrameWork</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">programming</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">delivery</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.builder;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExamProjectBuilder</span> <span class="keyword">implements</span> <span class="title">IProjectBuilder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Project project;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExamProjectBuilder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project = <span class="keyword">new</span> Project();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Project <span class="title">getProject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> project;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeRequirement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;åˆ›å»ºè€ƒè¯•ç³»ç»Ÿéœ€æ±‚&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makePrototype</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;åˆ›å»ºè€ƒè¯•åŸå‹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeScheduler</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;åˆ›å»ºè€ƒè¯•è®¡åˆ’&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeTables</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;åˆ›å»ºè€ƒè¯•ç³»ç»Ÿè¡¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeAppFrameWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;åˆ›å»ºè€ƒè¯•åº”ç”¨æ¶æ„&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">programming</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;è€ƒè¯•åº”ç”¨ä»£ç å®ç°&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;æµ‹è¯•è€ƒè¯•åº”ç”¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delivery</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;äº¤ä»˜è€ƒè¯•åº”ç”¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.builder;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CRMProjectBuilder</span> <span class="keyword">implements</span> <span class="title">IProjectBuilder</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CRMProjectBuilder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project = <span class="keyword">new</span> Project();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Project <span class="title">getProject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> project;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Project project;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeRequirement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;åˆ›å»ºCRMç³»ç»Ÿéœ€æ±‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makePrototype</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;åˆ›å»ºCRMåŸå‹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeScheduler</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;åˆ›å»ºCRMè®¡åˆ’&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeTables</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;åˆ›å»ºCRMç³»ç»Ÿè¡¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeAppFrameWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;åˆ›å»ºCRMåº”ç”¨æ¶æ„&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">programming</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;CRMåº”ç”¨ä»£ç å®ç°&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;æµ‹è¯•CRMåº”ç”¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delivery</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.project.process(<span class="string">&quot;äº¤ä»˜CRMåº”ç”¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.builder;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Director</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> IProjectBuilder builder;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Director</span><span class="params">(IProjectBuilder builder)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.builder=builder;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Project <span class="title">process</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.builder.makeRequirement();</span><br><span class="line">        <span class="keyword">this</span>.builder.makePrototype();</span><br><span class="line">        <span class="keyword">this</span>.builder.makeScheduler();</span><br><span class="line">        <span class="keyword">this</span>.builder.makeAppFrameWork();</span><br><span class="line">        <span class="keyword">this</span>.builder.makeTables();</span><br><span class="line">        <span class="keyword">this</span>.builder.programming();</span><br><span class="line">        <span class="keyword">this</span>.builder.test();</span><br><span class="line">        <span class="keyword">this</span>.builder.delivery();</span><br><span class="line">        <span class="keyword">return</span> builder.getProject();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Director  director = <span class="keyword">new</span> Director(<span class="keyword">new</span> CRMProjectBuilder());</span><br><span class="line">        Project project = director.process();</span><br><span class="line">        System.out.println(project.getImpleProcess());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡º  [åˆ›å»ºCRMç³»ç»Ÿéœ€æ±‚, åˆ›å»ºCRMåŸå‹, åˆ›å»ºCRMè®¡åˆ’, åˆ›å»ºCRMåº”ç”¨æ¶æ„, åˆ›å»ºCRMç³»ç»Ÿè¡¨, CRMåº”ç”¨ä»£ç å®ç°, æµ‹è¯•CRMåº”ç”¨, äº¤ä»˜CRMåº”ç”¨]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="åŸå‹æ¨¡å¼-Prototype-ï¼›"><a href="#åŸå‹æ¨¡å¼-Prototype-ï¼›" class="headerlink" title="åŸå‹æ¨¡å¼(Prototype)ï¼›"></a>åŸå‹æ¨¡å¼(Prototype)ï¼›</h3><p>GoFè¿™æ ·å®šä¹‰ï¼š</p>
<blockquote>
<p>ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»,å¹¶ä¸”é€šè¿‡æ‹·è´è¿™ä¸ªåŸå‹æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.prototype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/13.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeepClonePrototype</span> <span class="keyword">implements</span> <span class="title">Cloneable</span>,<span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> Vector&lt;String&gt; attrs=<span class="keyword">new</span> Vector&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">deepClone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException, IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(baos);</span><br><span class="line">        oos.writeObject(<span class="keyword">this</span>);</span><br><span class="line">        ByteArrayInputStream bais = <span class="keyword">new</span> ByteArrayInputStream(baos.toByteArray());</span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(bais);</span><br><span class="line">        <span class="keyword">return</span> ois.readObject();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        Object pro=<span class="keyword">new</span> DeepClonePrototype().deepClone();</span><br><span class="line">        System.out.println(pro.getClass());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å•ä¾‹æ¨¡å¼-Singleton-ï¼›"><a href="#å•ä¾‹æ¨¡å¼-Singleton-ï¼›" class="headerlink" title="å•ä¾‹æ¨¡å¼(Singleton)ï¼›"></a>å•ä¾‹æ¨¡å¼(Singleton)ï¼›</h3><blockquote>
<p>ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹,å¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> design.pattern.singleton;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Aaron on 15/9/11.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> instance;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> instance;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Singleton.class.getName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Singleton instance = Singleton.getInstance();</span><br><span class="line">        System.out.print(instance.getName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


        

        
            <div class="full-width auto-padding tags">
                
                    <a href="/tags/java/">java</a>
                
                    <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a>
                
            </div>
        
    </section>
</article>

    </div>
  
</section>


  <nav id="page-nav">
    
    <a class="prev" rel="prev" href="/categories/%E6%8A%80%E6%9C%AF/">
      <span class="icon icon-chevron-left"></span>
      <span class="text">Previous</span>
    </a>
    
    
    <a class="next" rel="next" href="/categories/%E6%8A%80%E6%9C%AF/page/3/">
      <span class="text">Next</span>
      <span class="icon icon-chevron-right"></span>
    </a>
    
  </nav>
  

      </div>
      <aside class='l_side'>
        
  <section class='m_widget about'>

<img class='avatar waves-image' src='/images/head/photo2.jpeg' />

<div class='header'>ä¸‡æ¾</div>
<div class='content'>
<div class='desc'>ç”Ÿæ´»ç‚¹æ»´å’ŒçŸ¥è¯†åˆ†äº«</div>
</div>
</section>


  <section class='m_widget links'>
<div class='header'>å‹æƒ…é“¾æ¥</div>
<div class='content'>
    <ul class="entry">
    
        <li><a class="flat-box" target="_blank" href="https://www.fxiaoke.com/">
            <div class='name'>fxiaoke</div>
        </a></li>
    
    </ul>
</div>
</section>


  <section class='m_widget categories'>
<div class='header'>æ‰€æœ‰åˆ†ç±»</div>
<div class='content'>
    
    <ul class="entry">
    
        <li><a class="flat-box" href="/categories/BPMN/"><div class='name'>BPMN</div><div class='badget'>6</div></a></li>
    
        <li><a class="flat-box" href="/categories/BPMN/Flow/"><div class='name'>Flow</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/linux/"><div class='name'>linux</div><div class='badget'>2</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%97%A5%E5%B8%B8%E5%B7%A5%E5%85%B7/mac/"><div class='name'>mac</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E4%B9%A6%E6%9E%B6/"><div class='name'>ä¹¦æ¶</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/BPMN/%E5%85%83%E7%B4%A0/"><div class='name'>å…ƒç´ </div><div class='badget'>5</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/"><div class='name'>æ‰©å±•çŸ¥è¯†</div><div class='badget'>7</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%8A%80%E6%9C%AF/"><div class='name'>æŠ€æœ¯</div><div class='badget'>28</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%96%B9%E6%A1%88/"><div class='name'>æ–¹æ¡ˆ</div><div class='badget'>4</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%97%A5%E5%B8%B8%E5%B7%A5%E5%85%B7/"><div class='name'>æ—¥å¸¸å·¥å…·</div><div class='badget'>3</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E7%94%9F%E6%B4%BB/"><div class='name'>ç”Ÿæ´»</div><div class='badget'>5</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%8A%80%E6%9C%AF/%E7%AE%97%E6%B3%95/"><div class='name'>ç®—æ³•</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E8%89%BA%E6%9C%AF/"><div class='name'>è‰ºæœ¯</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%8A%80%E6%9C%AF/%E8%AF%AD%E8%A8%80/"><div class='name'>è¯­è¨€</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/%E8%AF%BB%E4%B9%A6%E5%AD%A6%E4%B9%A0/"><div class='name'>è¯»ä¹¦å­¦ä¹ </div><div class='badget'>5</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E8%AF%BB%E4%B9%A6%E5%AD%A6%E4%B9%A0/"><div class='name'>è¯»ä¹¦å­¦ä¹ </div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%8A%80%E6%9C%AF/%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"><div class='name'>é—®é¢˜æ€»ç»“</div><div class='badget'>1</div></a></li>
    
    </ul>
    
</div>
</section>


  
<div class="m_widget tagcloud">
    <div class="header">æ ‡ç­¾äº‘</div>
    <div class='content'>
        <a href="/tags/BPMN/" style="font-size: 19px; color: #151515">BPMN</a> <a href="/tags/CAP/" style="font-size: 15px; color: #6b6b6b">CAP</a> <a href="/tags/Flow/" style="font-size: 19px; color: #151515">Flow</a> <a href="/tags/GIS/" style="font-size: 14px; color: #808080">GIS</a> <a href="/tags/Protobuf/" style="font-size: 14px; color: #808080">Protobuf</a> <a href="/tags/alfred/" style="font-size: 14px; color: #808080">alfred</a> <a href="/tags/angularjs/" style="font-size: 17px; color: #404040">angularjs</a> <a href="/tags/ansible/" style="font-size: 14px; color: #808080">ansible</a> <a href="/tags/arm/" style="font-size: 14px; color: #808080">arm</a> <a href="/tags/book/" style="font-size: 15px; color: #6b6b6b">book</a> <a href="/tags/bug/" style="font-size: 14px; color: #808080">bug</a> <a href="/tags/django/" style="font-size: 14px; color: #808080">django</a> <a href="/tags/dubbo/" style="font-size: 14px; color: #808080">dubbo</a> <a href="/tags/fastcgi/" style="font-size: 14px; color: #808080">fastcgi</a> <a href="/tags/fastfs/" style="font-size: 14px; color: #808080">fastfs</a> <a href="/tags/git/" style="font-size: 14px; color: #808080">git</a> <a href="/tags/ionic/" style="font-size: 17px; color: #404040">ionic</a> <a href="/tags/java/" style="font-size: 20px; color: #000">java</a> <a href="/tags/jdk/" style="font-size: 14px; color: #808080">jdk</a> <a href="/tags/jdk8-java/" style="font-size: 15px; color: #6b6b6b">jdk8.java</a> <a href="/tags/jmeter/" style="font-size: 14px; color: #808080">jmeter</a> <a href="/tags/linux/" style="font-size: 14px; color: #808080">linux</a> <a href="/tags/linux%E5%91%BD%E4%BB%A4/" style="font-size: 14px; color: #808080">linuxå‘½ä»¤</a> <a href="/tags/mac/" style="font-size: 15px; color: #6b6b6b">mac</a> <a href="/tags/maven/" style="font-size: 14px; color: #808080">maven</a> <a href="/tags/mp3/" style="font-size: 14px; color: #808080">mp3</a> <a href="/tags/mysql/" style="font-size: 14px; color: #808080">mysql</a> <a href="/tags/nginx/" style="font-size: 14px; color: #808080">nginx</a> <a href="/tags/nocomment/" style="font-size: 14px; color: #808080">nocomment</a> <a href="/tags/poi/" style="font-size: 14px; color: #808080">poi</a> <a href="/tags/python/" style="font-size: 17px; color: #404040">python</a> <a href="/tags/redis/" style="font-size: 15px; color: #6b6b6b">redis</a> <a href="/tags/rpc/" style="font-size: 14px; color: #808080">rpc</a> <a href="/tags/rsa/" style="font-size: 14px; color: #808080">rsa</a> <a href="/tags/schedule/" style="font-size: 14px; color: #808080">schedule</a> <a href="/tags/workflow/" style="font-size: 14px; color: #808080">workflow</a> <a href="/tags/zookeeper/" style="font-size: 14px; color: #808080">zookeeper</a> <a href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95/" style="font-size: 14px; color: #808080">ä¸€è‡´æ€§ç®—æ³•</a> <a href="/tags/%E4%BA%BA%E7%94%9F/" style="font-size: 16px; color: #555">äººç”Ÿ</a> <a href="/tags/%E4%BA%BA%E7%94%9F%E6%84%9F%E6%82%9F/" style="font-size: 14px; color: #808080">äººç”Ÿæ„Ÿæ‚Ÿ</a> <a href="/tags/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/" style="font-size: 14px; color: #808080">äººè„¸è¯†åˆ«</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/" style="font-size: 14px; color: #808080">ä»£ç ä»“åº“</a> <a href="/tags/%E5%81%A5%E5%BA%B7/" style="font-size: 14px; color: #808080">å¥åº·</a> <a href="/tags/%E5%85%83%E7%B4%A0/" style="font-size: 18px; color: #2b2b2b">å…ƒç´ </a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 18px; color: #2b2b2b">åˆ†å¸ƒå¼</a> <a href="/tags/%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86/" style="font-size: 14px; color: #808080">åŠ å¯†è§£å¯†</a> <a href="/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/" style="font-size: 14px; color: #808080">å‹åŠ›æµ‹è¯•</a> <a href="/tags/%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86/" style="font-size: 15px; color: #6b6b6b">å›¾ç‰‡å¤„ç†</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 17px; color: #404040">å¤šçº¿ç¨‹</a> <a href="/tags/%E5%AD%98%E5%82%A8/" style="font-size: 14px; color: #808080">å­˜å‚¨</a> <a href="/tags/%E5%AE%9A%E6%97%B6/" style="font-size: 14px; color: #808080">å®šæ—¶</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 14px; color: #808080">å·¥å…·</a> <a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 14px; color: #808080">å¹¶å‘</a> <a href="/tags/%E5%BE%90%E6%82%B2%E9%B8%BF/" style="font-size: 14px; color: #808080">å¾æ‚²é¸¿</a> <a href="/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/" style="font-size: 14px; color: #808080">æ€§èƒ½æµ‹è¯•</a> <a href="/tags/%E6%84%9F%E6%82%9F/" style="font-size: 15px; color: #6b6b6b">æ„Ÿæ‚Ÿ</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 14px; color: #808080">æ’åº</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86/" style="font-size: 15px; color: #6b6b6b">æœåŠ¡æ²»ç†</a> <a href="/tags/%E6%9F%A5%E6%89%BE/" style="font-size: 14px; color: #808080">æŸ¥æ‰¾</a> <a href="/tags/%E6%B5%81%E7%A8%8B/" style="font-size: 19px; color: #151515">æµç¨‹</a> <a href="/tags/%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E/" style="font-size: 19px; color: #151515">æµç¨‹å¼•æ“</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 14px; color: #808080">æµ‹è¯•</a> <a href="/tags/%E7%88%AC%E5%B1%B1/" style="font-size: 14px; color: #808080">çˆ¬å±±</a> <a href="/tags/%E7%96%91%E6%83%91/" style="font-size: 15px; color: #6b6b6b">ç–‘æƒ‘</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 19px; color: #151515">ç®—æ³•</a> <a href="/tags/%E7%BB%8F%E9%AA%8C/" style="font-size: 14px; color: #808080">ç»éªŒ</a> <a href="/tags/%E7%BB%98%E7%94%BB/" style="font-size: 14px; color: #808080">ç»˜ç”»</a> <a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 15px; color: #6b6b6b">ç¼“å­˜</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 17px; color: #404040">è®¾è®¡æ¨¡å¼</a> <a href="/tags/%E8%BD%AF%E4%BB%B6/" style="font-size: 14px; color: #808080">è½¯ä»¶</a> <a href="/tags/%E8%BF%90%E5%8A%A8/" style="font-size: 14px; color: #808080">è¿åŠ¨</a> <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 15px; color: #6b6b6b">è¿ç»´</a> <a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 14px; color: #808080">éŸ³ä¹</a> <a href="/tags/%E9%9F%B3%E9%A2%91%E8%BD%AC%E6%8D%A2/" style="font-size: 14px; color: #808080">éŸ³é¢‘è½¬æ¢</a>
    </div>
</div>



      </aside>
      <script>setLoadingBarProgress(60);</script>
    </div>
  </div>
  <footer id="footer" class="clearfix">

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/AaronWan" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
    
  </div>
  
    
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_container_site_pv">æœ¬ç«™æµè§ˆæ€»è®¿é—®é‡: <span id="busuanzi_value_site_pv"></span></span>
        <span class="post-meta-divider">|</span>
        <span id="busuanzi_container_site_uv">æœ¬ç«™è®¿é—®äººæ•°: <span id="busuanzi_value_site_uv"></span></span>
    
</footer>

  <script>setLoadingBarProgress(80);</script>
  

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src='//cdn.bootcss.com/node-waves/0.7.5/waves.min.js'></script>
<script src="//cdn.bootcss.com/scrollReveal.js/3.3.2/scrollreveal.min.js"></script>

<script src="/js/jquery.fitvids.js"></script>

<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
  var ROOT = "/"||"/";
  if(!ROOT.endsWith('/'))ROOT += '/';
</script>

<script src="/js/search.js"></script>


<script src="/js/app.js"></script>



  <script>setLoadingBarProgress(100);</script>
</body>
</html>
