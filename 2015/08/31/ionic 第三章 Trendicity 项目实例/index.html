<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>ç¬¬ä¸‰ç«  ionic å®ä¾‹ Trendicity | é“ - è‡ªç„¶ ğŸƒ</title>
  <meta name="description" content="ç”Ÿæ´»ç‚¹æ»´å’ŒçŸ¥è¯†åˆ†äº«" />
  <meta name="keywords" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="shortcut icon" href="/">
  <link rel="alternate" href="/atom.xml" title="é“ - è‡ªç„¶ ğŸƒ" type="application/atom+xml">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ionic å®ä¾‹ Trendicity">
<meta property="og:type" content="article">
<meta property="og:title" content="ç¬¬ä¸‰ç«  ionic å®ä¾‹ Trendicity">
<meta property="og:url" content="http://example.com/2015/08/31/ionic%20%E7%AC%AC%E4%B8%89%E7%AB%A0%20Trendicity%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E4%BE%8B/index.html">
<meta property="og:site_name" content="é“ - è‡ªç„¶ ğŸƒ">
<meta property="og:description" content="ionic å®ä¾‹ Trendicity">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/ionic/side_menu.png">
<meta property="og:image" content="http://example.com/images/ionic/photo_on_map.png">
<meta property="og:image" content="http://example.com/images/ionic/favorites_list.png">
<meta property="og:image" content="http://example.com/images/ionic/no_favorited.png">
<meta property="og:image" content="http://example.com/images/ionic/invalid_form.png">
<meta property="og:image" content="http://example.com/images/ionic/about_1.png">
<meta property="og:image" content="http://example.com/images/ionic/about_2.png">
<meta property="og:image" content="http://example.com/images/ionic/about_3.png">
<meta property="og:image" content="http://example.com/images/ionic/normal_login.png">
<meta property="article:published_time" content="2015-08-30T16:00:00.000Z">
<meta property="article:modified_time" content="2022-09-03T10:12:16.072Z">
<meta property="article:author" content="ä¸‡æ¾">
<meta property="article:tag" content="ionic">
<meta property="article:tag" content="angularjs">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/ionic/side_menu.png">
    
  <link href="https://fonts.googleapis.com/css?family=Inconsolata|Titillium+Web" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href='//cdn.bootcss.com/node-waves/0.7.5/waves.min.css' rel='stylesheet'>
  
<link rel="stylesheet" href="/style.css">

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>


  <script>setLoadingBarProgress(20)</script> 
  <header class="l_header">
	<div class='wrapper'>
		<div class="nav-main container container--flex">
			<a class="logo flat-box" href='/' >
				é“ - è‡ªç„¶ ğŸƒ
			</a>

			<div class='menu'>
				<ul class='h-list'>
					
						<li>
							<a class='flat-box nav-home' href='/'>
								ä¸»é¡µ
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-archives' href='/archives'>
								åˆ†ç±»æŸ¥çœ‹
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-about' href='/about'>
								å…³äºæˆ‘
							</a>
						</li>
					
				</ul>
				<div class='underline'></div>
			</div>
			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<span class="icon icon-search"></span>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a href='javascript:void(0)'><span class="icon icon-search flat-box"></span></a></li>
				
				<li class='s-menu'><a href='javascript:void(0)'><span class="icon icon-menu flat-box"></span></a></li>
			</ul>
		</div>
		
		<div class='nav-sub container container--flex'>
			<a class="logo" class="flat-box" href='javascript:void(0)'>
				Word of Forks
			</a>

			<ul class='switcher h-list'>
				<li class='s-comment'><a href='javascript:void(0)'><span class="icon icon-chat_bubble_outline flat-box"></span></a></li>
				<li class='s-top'><a href='javascript:void(0)'><span class="icon icon-arrow_upward flat-box"></span></a></li>
				<li class='s-toc'><a href='javascript:void(0)'><span class="icon icon-format_list_numbered flat-box"></span></a></li>
			</ul>
		</div>
	</div>
</header>
<aside class="menu-phone">
	<nav>
		
			<a href="/" class="nav-home nav">
				ä¸»é¡µ
			</a>
		
			<a href="/archives" class="nav-archives nav">
				åˆ†ç±»æŸ¥çœ‹
			</a>
		
			<a href="/about" class="nav-about nav">
				å…³äºæˆ‘
			</a>
		
	</nav>
</aside>

    <script>setLoadingBarProgress(40);</script>
  <div class="l_body">
    <div class='container clearfix'>
      <div class='l_main'>
        <article id="detail-ionic ç¬¬ä¸‰ç«  Trendicity é¡¹ç›®å®ä¾‹"
  class="post white-box article-type-detail"
  itemscope itemprop="blogPost">
	<section class='meta'>
	<h2 class="title">
  	<a href="/2015/08/31/ionic%20%E7%AC%AC%E4%B8%89%E7%AB%A0%20Trendicity%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E4%BE%8B/">
    	ç¬¬ä¸‰ç«  ionic å®ä¾‹ Trendicity
		
			<font style="font-size: small">ionic å®ä¾‹ Trendicity</font>
		
    </a>
	</h2>
	<time>
	  8æœˆ 31, 2015
	</time>
	
    
    <div class='cats'>
        <a href="/categories/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/">æ‰©å±•çŸ¥è¯†</a>, <a href="/categories/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/%E8%AF%BB%E4%B9%A6%E5%AD%A6%E4%B9%A0/">è¯»ä¹¦å­¦ä¹ </a>
    </div>

	</section>
	
		<section class="toc-wrapper"></section>
	
	<section class="article typo">
  	<div class="article-entry" itemprop="articleBody">
    	<p>ç°åœ¨åœ¨ä½ çš„å·¥å…·ç®±ä¸­æœ‰å¾ˆå¤šå·¥å…·ï¼Œè®©æˆ‘ä»¬æ¥è°ˆè°ˆå¼€å‘ä¸€ä¸ªçœŸæ­£çš„æ‰‹æœºåº”ç”¨ã€‚Instagramæ˜¯ä¸€ä¸ªéå¸¸å—æ¬¢è¿çš„ç…§ç‰‡åˆ†äº«åº”ç”¨ã€‚ä½¿è¿™äº›ç…§ç‰‡æ›´åŠ æœ‰è¶£å¹¶ä¸”å±•ç¤ºä¸€äº›IonicåŠŸèƒ½ï¼Œæˆ‘ä»¬å°†ä¼šæ¶‰åŠåˆ°ä¸€ä¸ªæˆ‘ä»¬å¼€å‘åº”ç”¨ï¼Œå®ƒå« Trendicityã€‚è¿™ä¸ªåº”ç”¨ä»¥å¤šç§æ–¹å¼è·å–å’Œå±•ç¤ºInstagramçš„ç…§ç‰‡ã€‚</p>
<p>ä¸€ç§æ–¹å¼å°±æ˜¯æ ¹æ®ç…§ç‰‡çš„ä½ç½®åœ¨åœ°å›¾ä¸Šè¿›è¡Œå±•ç¤ºã€‚å¦ä¸€ç§æ–¹å¼å°±æ˜¯å°†ç…§ç‰‡å±•ç¤ºåœ¨å¯ä»¥æ»‘åŠ¨çš„å¡ç‰‡ä¸Šï¼Œå¹¶ä¸”ç”¨æˆ·å¯ä»¥æ ‡ç¤ºå‡ºå–œæ¬¢çš„ç…§ç‰‡ã€‚æœ€åä¸€ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä»¥åˆ—è¡¨çš„å½¢å¼å±•ç¤ºç…§ç‰‡å’Œæ›´å¤šæœ‰å…³ç…§ç‰‡ä¿¡æ¯ã€‚</p>
<p>è¿™ä¸ªå®Œæ•´çš„<a target="_blank" rel="noopener" href="https://github.com/trendicity/trendicity">Trendicity</a>åº”ç”¨å¯ä»¥åœ¨Githubä¸Šæ‰¾åˆ°ã€‚ä½ å¯ä»¥ä¸‹è½½å®ƒå¹¶åœ¨ä½ çš„æµè§ˆå™¨æˆ–è€…è®¾å¤‡æˆ–ä»¿çœŸå™¨ä¸Šè¿è¡Œã€‚</p>
<p>Trendicityåº”ç”¨æ˜¯ä½œä¸ºä¸€ä¸ªside menu åº”ç”¨å»ºæˆçš„ï¼Œå¯æ˜¯ï¼Œå®ƒä¹Ÿå¾ˆå¥½çš„ç»“åˆäº†tabsæ–¹å¼ã€‚æˆ‘ä»¬å°†ä¼šä»å‡ æ–¹é¢å»è®¨è®ºè¿™ä¸ªåº”ç”¨ã€‚Side Menuå’Œç”¨æˆ·çš„æ“ä½œé€‰é¡¹ï¼Œæœç´¢åŠŸèƒ½ï¼Œå’ŒåŠ è½½æœåŠ¡çš„ä½¿ç”¨å’Œï¼ˆåœ°å›¾ç¤ºå›¾ï¼Œå¡ç‰‡è§†å›¾å’Œåˆ—è¡¨è§†å›¾ï¼‰tabsã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡æ„å»ºè¿™ä¸ªåº”ç”¨æ¥æ·±å…¥äº†è§£ä»£ç ã€‚</p>
<p>##Side menu</p>
<p>ä¾§è¾¹èœå•ç”±ä»¥ä¸‹èœå•é¡¹æ„æˆï¼š</p>
<ul>
<li>HOME</li>
<li>Favorites</li>
<li>About</li>
<li>Login/Logout</li>
</ul>
<p>ä¸‹é¢æ˜¯Trendicityä¾§è¾¹èœå•çš„æˆªå›¾ã€‚å…³äºæ€ä¹ˆæ ·å®ç°ä¾§è¾¹èœå•å’Œè·¯ç”±æ—¶ä¸€ç›´å¸¦ç€å®ƒçš„ç»†èŠ‚ï¼Œè¯·çœ‹ç¬¬å››ç« ï¼šå®ç°ä¾§è¾¹èœå•å’Œé…ç½®è·¯ç”±ã€‚</p>
<p><img src="/images/ionic/side_menu.png" alt="ä¾§è¾¹èœå•"></p>
<p>##Home</p>
<p>HOMEèœå•é€‰é¡¹ç‚¹å‡»æ—¶ä¼šè°ƒç”¨HomtCtrlå’Œå±•ç¤ºåœ°å›¾Tabã€‚åœ°å›¾ä¸Šå°†ä¼šå±•ç¤ºé™„è¿‘çš„ä¸€äº›å›¾ç‰‡ã€‚</p>
<p><img src="/images/ionic/photo_on_map.png" alt="ä¾§è¾¹èœå•"></p>
<p>##Favorites</p>
<p>å¤§ä½“ä¸Šï¼ŒTrendicityåº”ç”¨çš„æ”¶è—åŠŸçš„å®ç°æœ‰ä¸‰éƒ¨åˆ†ç»„æˆï¼š<code>FavoritesService</code>,<code>FavoritesCtrl</code>å’Œ<code>favorites.html</code>æ¨¡ç‰ˆã€‚</p>
<p>æ”¶è—åŠŸèƒ½æœ‰ä¸¤ç§ç±»å‹çš„ç…§ç‰‡ä¼šè¿›è¡Œæ”¶å­˜æ”¾ï¼šç”¨æˆ·ç”Ÿæˆçš„å’Œè‡ªå·±æ”¶è—çš„ã€‚å‰è€…æ˜¯é€šè¿‡add-favoriteæ¨¡æ€çª—å£æ·»åŠ çš„ï¼Œåè€…æ˜¯é€šè¿‡åœ°å€ä½ç½®ç›´æ¥å…³è”åˆ°Instagramç›¸ç‰‡çš„ã€‚</p>
<p>è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†ä¼šå®é™…æ“ä½œåˆ›å»ºå’Œåˆ é™¤æ”¶è—ï¼Œçœ‹ä¸€ä¸‹æ”¶è—åŠŸèƒ½æ˜¯å¦‚ä½•å®ç°åŠ<code>FavoritesCtrl</code>å’Œ<code>FavoritesServices</code>ä¹‹é—´æ˜¯å¦‚ä½•äº¤äº’çš„ã€‚</p>
<p>###æ”¶è—åˆ—è¡¨</p>
<p>æ”¶è—æ•°æ®åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­å±•ç°ã€‚å½“ç”¨æˆ·è¿›å…¥è¿™ä¸ªè§†å›¾ï¼Œä¼šè§¦å‘<code>$ionicView.enter</code>äº‹ä»¶ï¼Œè¿™ä¸ªè§†å›¾ä¸­çš„æ•°æ®å°†è‡ªåŠ¨åˆ·æ–°ï¼š</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$scope</span>.<span class="symbol">$o</span>n(<span class="string">&#x27;$ionicView.enter&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="comment">// Update favorites</span></span><br><span class="line">   <span class="symbol">$scope</span>.favorites = FavoritesService.getFavorites();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>åˆ—è¡¨ä¸­çš„æ¯ä¸€æ¡æ”¶è—æ¡ç›®ç‚¹å‡»æ—¶éƒ½ä¼šåœ¨æ­¤ç›¸ç‰‡çš„åœ°ç†ä½ç½®ä¸ºä¸­å¿ƒå®šä½åˆ°åœ°å›¾ä¸Šã€‚ä¸‹é¢æ˜¯æ”¶è—è§†å›¾ä¸­å±•ç¤ºæ”¶è—æ•°æ®çš„ä»£ç ï¼š</p>
<figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">ion-list</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">ion-item</span> <span class="attr">class</span>=<span class="string">&quot;item-icon-right&quot;</span></span></span></span><br><span class="line"><span class="xml">    ng-repeat=&quot;favorite in favorites track by favorite.id&quot; ui-sref=&quot;app.home.map(</span><span class="template-variable">&#123; latitude: favorite.lat, longitude: favorite.lng &#125;</span><span class="xml">)&quot;&gt;</span></span><br><span class="line"><span class="xml">    \</span><span class="template-variable">&#123;\&#123; favorite.city \&#125;</span><span class="xml">\&#125;</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon ion-ios-arrow-forward icon-accessory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">ion-option-button</span> <span class="attr">class</span>=<span class="string">&quot;button-assertive&quot;</span> <span class="attr">ng-click</span>=<span class="string">&quot;deleteFavorite(favorite)&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">          Remove</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ion-option-button</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">ion-item</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">ion-list</span>&gt;</span>  </span></span><br></pre></td></tr></table></figure>

<p><img src="/images/ionic/favorites_list.png" alt="æ”¶è—åˆ—è¡¨"></p>
<p>æ·»åŠ ä¸€äº›å‹å¥½çš„æç¤ºä¿¡æ¯ï¼Œå½“æ²¡æœ‰æ”¶è—ä¿¡æ¯è¦å±•ç¤ºæ—¶ï¼Œåšå¦‚ä¸‹æ“ä½œï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Display message when no favorites exist --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;vertical-center-container&quot;</span> <span class="attr">ng-show</span>=<span class="string">&quot;!favorites.length&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;vertical-center text-center&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon ion-heart-broken assertive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Looks like you haven&#x27;t favorited anything yet...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/images/ionic/no_favorited.png" alt="æ”¶è—åˆ—è¡¨"></p>
<p>###æ·»åŠ æ”¶è—</p>
<p>ä¸ºäº†ä¿æŒä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬å†³å®šå°†å¼€å‘æ·»åŠ æ”¶è—åŠŸèƒ½çš„çš„ä»£ç è¿›è¡Œè§£è—•åˆã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†å®ƒæ‹†åˆ†æˆäº† FavoritesCtrl,FavoritesService,add-favorite.htmlæ¨¡ç‰ˆï¼Œå’Œadd-favorite-formæŒ‡ä»¤ï¼Œè®©å®ƒä»¬ç»„åˆåˆ°ä¸€èµ·å®Œæˆè¿™ä¸ªåŠŸèƒ½ã€‚</p>
<p>æ·»åŠ æ”¶è—çš„åŠ¨ä½œï¼Œä»ç‚¹å‡»å³ä¸Šè§’çš„â€™+â€™å·æ‰“å¼€ä¸€ä¸ªæ·»åŠ æ”¶è—çš„æ¨¡æ€çª—å£ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ion-nav-buttons</span> <span class="attr">side</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button button-icon ion-ios-plus-empty&quot;</span> <span class="attr">ng-click</span>=<span class="string">&quot;showModalAddFavorite()&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ion-nav-buttons</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ä¼šè§¦å‘FavoriteCtrlçš„showModalAddFavorite()æ–¹æ³•ï¼Œå®ƒä¼šæ‰“å¼€æ·»åŠ æ”¶è—çš„æ¨¡æ€çª—å£ã€‚</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$scope</span>.showModalAddFavorite = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="symbol">$scope</span>.modalAddFavorite.show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¨¡æ€çª—å£ä¸­çš„å†…å®¹éƒ½æ˜¯æœ‰add-favorite-formæŒ‡ä»¤è´Ÿè´£ç”Ÿæˆã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ion-content</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add-favorite-form</span> <span class="attr">on-submit</span>=<span class="string">&quot;addFavorite(favorite)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">add-favorite-form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ion-content</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>![æ·»åŠ æ”¶è—](/images/ionic/add_favorite.png =300x)</p>
<p>addFavoriteFormæŒ‡ä»¤ä¼šåœ¨å…¶å†…éƒ¨å¤„ç†onSubmitã€‚å½“è¿™ä¸ªè¡¨å•å¡«å†™çš„æ²¡æœ‰é—®é¢˜æäº¤æ—¶ï¼Œä¼šè°ƒç”¨addFavoriteFormä¸­çš„submitæ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦è¡¨å•æ²¡æœ‰é—®é¢˜ï¼ŒæŒ‡ä»¤ä¼šè°ƒç”¨submitæ–¹æ³•ï¼Œé€šè¿‡è°ƒç”¨ä»–çš„on-submitå±æ€§ã€‚</p>
<p>ç°åœ¨ï¼ŒæŒ‡ä»Šå¦‚ä½•çŸ¥é“å»å“ªé‡Œæ‰¾åˆ°addFavorite(favorite)æ–¹æ³•å‘¢ï¼Ÿ<br>å½“æˆ‘ä»¬åˆå§‹åŒ–æ¨¡æ€æ—¶ï¼Œä¼šå°†FavoriteCtrlçš„ä½œç”¨åŸŸä¸€å¹¶ä¼ å…¥ã€‚å› æ­¤ï¼Œè¿™ä¸ªæ¨¡æ€çš„ä½œç”¨åŸŸæ˜¯ç»§æ‰¿è‡ªå®ƒçš„çˆ¶ä½œç”¨åŸŸï¼ˆå³æ”¶è—è§†å›¾çš„ä½œç”¨åŸŸï¼‰ï¼›</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$io</span>nicModal.fromTemplateUrl(<span class="string">&#x27;templates/modals/add-favorite.html&#x27;</span>, &#123;</span><br><span class="line">   scope: <span class="symbol">$scope</span></span><br><span class="line"> &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">modal</span>) </span>&#123;</span><br><span class="line">   <span class="symbol">$scope</span>.modalAddFavorite = modal;</span><br><span class="line"> &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼ŒaddFavorite()æ–¹æ³•å·²ç»ä¸æ§åˆ¶å™¨çš„ä½œç”¨åŸŸç›¸å…³è”ï¼š</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Add a new favorite using the service</span></span><br><span class="line"><span class="symbol">$scope</span>.addFavorite = <span class="function"><span class="keyword">function</span>(<span class="params">favorite</span>) </span>&#123;</span><br><span class="line">  FavoritesService.add(favorite).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="symbol">$scope</span>.favorites = FavoritesService.getFavorites();</span><br><span class="line">    <span class="symbol">$scope</span>.hideModalAddFavorite();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å½“è°ƒç”¨FavoritesServiceâ€™s add()æ–¹æ³•åï¼Œå°†ä¼šæ›´æ–°æ”¶è—åˆ—è¡¨å¹¶å…·éšè—add-favoriteæ¨¡æ€ã€‚</p>
<p>###æ·»åŠ æ”¶è—è¡¨å•æŒ‡ä»¤</p>
<p>addFavoriteFormæŒ‡ä»¤ä½¿ç”¨templates/directives/add-favorite-form.htmlä½œä¸ºå®ƒçš„æ¨¡ç‰ˆã€‚è¿™ä¸ªè§†å›¾åŒ…å«äº†è¡¨å•çš„åŸºç¡€éªŒè¯ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">&lt;form name=<span class="string">&quot;formAddFavorite&quot;</span> no-validate&gt;</span><br><span class="line">  &lt;label <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;item item-input item-stacked-label&quot;</span> ng-<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;&#123; &#x27;item-error&#x27;: formAddFavorite.$attempt &amp;&amp; formAddFavorite.city.$invalid, &#x27;item-valid&#x27;: formAddFavorite.city.$valid &#125;&quot;</span>&gt;</span><br><span class="line">    &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;input-label&quot;</span>&gt;<span class="type">City</span>&lt;/span&gt;</span><br><span class="line">    &lt;input <span class="class"><span class="keyword">type</span></span>=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;city&quot;</span> ng-model=<span class="string">&quot;favorite.city&quot;</span> placeholder=<span class="string">&quot;Dallas&quot;</span> required=<span class="string">&quot;required&quot;</span>&gt;</span><br><span class="line">  &lt;/label&gt;</span><br><span class="line">  &lt;label <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;item item-input item-stacked-label&quot;</span> ng-<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;&#123; &#x27;item-error&#x27;: formAddFavorite.$attempt &amp;&amp; formAddFavorite.region.$invalid, &#x27;item-valid&#x27;: formAddFavorite.region.$valid &#125;&quot;</span>&gt;</span><br><span class="line">    &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;input-label&quot;</span>&gt;<span class="type">State</span> or <span class="type">Country</span>&lt;/span&gt;</span><br><span class="line">    &lt;input <span class="class"><span class="keyword">type</span></span>=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;region&quot;</span> ng-model=<span class="string">&quot;favorite.region&quot;</span> placeholder=<span class="string">&quot;TX&quot;</span> required=<span class="string">&quot;required&quot;</span>&gt;</span><br><span class="line">  &lt;/label&gt;</span><br><span class="line">  &lt;button <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;button button-full button-positive&quot;</span> <span class="class"><span class="keyword">type</span></span>=<span class="string">&quot;button&quot;</span> ng-click=<span class="string">&quot;submit()&quot;</span>&gt;<span class="type">Add</span>&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<p>â€œAddâ€æŒ‰é’®ä¼šè°ƒç”¨å‘½ä»¤çš„submit()æ–¹æ³•ï¼Œä¼šæ·»åŠ ä¸€ä¸ª$attemptå­—æ®µåˆ°è¡¨å•ä¸­ï¼Œæ ‡ç¤ºç”¨æˆ·å·²ç»æœ€è¿‘å·²ç»æäº¤äº†ä¸€æ¬¡è¿™ä¸ªè¡¨å•ã€‚è¿™ä¸ªå­—æ®µè¢«ç”¨æ¥é«˜äº®ä¸åˆæ³•å’Œæ²¡æœ‰è¾“å…¥çš„è¾“å…¥é€‰é¡¹ã€‚</p>
<p><img src="/images/ionic/invalid_form.png" alt="æœ‰é—®é¢˜çš„è¡¨å•"></p>
<p>æœ€åï¼Œå½“è¿™ä¸ªè¡¨å•éªŒè¯é€šè¿‡åï¼ŒæŒ‡ä»¤ä¼šé€šè¿‡æ¨¡æ€ä¸­çš„ä¸€ä¸ªå±æ€§è°ƒç”¨onSubmit()æ–¹æ³•ï¼š</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$scope</span>.submit = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="symbol">$scope</span>.formAddFavorite.<span class="symbol">$attempt</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (<span class="symbol">$scope</span>.formAddFavorite.<span class="symbol">$valid</span>) &#123;</span><br><span class="line">         <span class="symbol">$scope</span>.onSubmit(&#123; <span class="attr">favorite</span>: <span class="symbol">$scope</span>.favorite &#125;);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;;</span><br></pre></td></tr></table></figure>

<p>![åˆæ³•çš„è¡¨å•](/images/ionic/valid_form.png =300x)</p>
<p>è€Œä¸”ï¼Œåœ¨è¿™ä¸ªæ¨¡æ€å…³é—­æ—¶ï¼Œå…¶ä¸­æ·»åŠ æ”¶è—çš„è¡¨å•ä¼šè‡ªåŠ¨æ¸…ç©ºã€‚å®ƒæ˜¯é€šè¿‡ç›‘å¬modal.hiddenäº‹ä»¶æ¥è¿›è¡Œå®ç°çš„ï¼š</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$scope</span>.<span class="symbol">$o</span>n(<span class="string">&#x27;modal.hidden&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="comment">// Clear form</span></span><br><span class="line">       <span class="symbol">$scope</span>.favorite = <span class="literal">null</span>;</span><br><span class="line">       <span class="symbol">$scope</span>.formAddFavorite.<span class="symbol">$attempt</span> = <span class="literal">false</span>;</span><br><span class="line">       <span class="symbol">$scope</span>.formAddFavorite.<span class="symbol">$set</span>Pristine(<span class="literal">true</span>);</span><br><span class="line">     &#125;);</span><br></pre></td></tr></table></figure>

<p>###åˆ é™¤æ”¶è—</p>
<p>å½“ä½ æ»‘åŠ¨æ”¶è—æ¡ç›®æ—¶å°±å¯ä»¥è¿›è¡Œåˆ é™¤æ”¶è—æ“ä½œã€‚</p>
<p>![åˆ é™¤æ”¶è—](/images/ionic/remove_operate.png =300x)</p>
<p>ç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼Œå°†ä¼šè°ƒç”¨FavoritesCtrlçš„deleteFavorite()æ–¹æ³•åˆ é™¤å½“å‰æ”¶è—çš„å¼•ç”¨ã€‚åœ¨æ§åˆ¶å™¨è¿™è¾¹ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè°ƒç”¨FavoritesServiceçš„deleteæ–¹æ³•ï¼Œå°†æ”¶è—åˆ—è¡¨ä¸­çš„å½“å‰æ“ä½œçš„æ”¶è—é¡¹åˆ é™¤ã€‚</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Delete a favorite using the service and update scope var</span></span><br><span class="line"><span class="symbol">$scope</span>.deleteFavorite = <span class="function"><span class="keyword">function</span> (<span class="params">favorite</span>) </span>&#123;</span><br><span class="line">  <span class="symbol">$scope</span>.favorites = FavoritesService.delete(favorite);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>###æ”¶è—æœåŠ¡</p>
<p>FavoritesServiceæ˜¯ç”¨æ ‡å‡†æ–¹å¼æ¥å¤„ç†Trendicityä¸­ä¸æ”¶è—ç›¸å…³çš„æœåŠ¡ã€‚å®ƒå°†æ”¶è—ç›¸å…³é€»è¾‘ä¸Trendicityå…¶å®ƒåŠŸèƒ½éš”ç¦»å¼€ã€‚ç”¨è¿™ç§æ–¹å¼çš„å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯FavoritesServiceæœåŠ¡å¯ä»¥åœ¨ä»»ä½•ä¸€ä¸ª Controllerä¸­ä½¿ç”¨ã€‚åƒæˆ‘ä»¬åœ¨åˆ—è¡¨è§†å›¾ä¸­å®ç°çš„é‚£æ ·,è¿™ä¸ªæœåŠ¡è¢«ç”¨æ¥æ”¶è—è‡ªå·±å–œæ¬¢çš„åœ°ç†ä½ç½®ã€‚</p>
<p>è¿™ä¸ªæœåŠ¡æä¾›äº†ä¸‰ä¸ªæ–¹æ³•ï¼šadd(),getFavorites()å’Œdelete()</p>
<p>æ­£å¦‚å®ƒä»¬çš„åå­—å«çš„é‚£æ ·ï¼ŒgetFavorites()ä¼šç›´æ¥è¿”å›å½“å‰æœ¬åœ°çš„æ‰€æœ‰æ”¶è—ã€‚</p>
<p>æ·»åŠ æ”¶è—æ—¶çš„å¤„ç†æ–¹å¼æ ¹æ®æ”¶è—çš„ç±»å‹è€Œå®šã€‚å¯¹äºäººä»¬ç»å¸¸æ”¶è—çš„åŸå¸‚æˆ–åŒºåŸŸï¼Œè¿™ä¸ªç±»å‹çš„æ”¶è—ä¼šç”¨GeolocationServiceçš„addressToPosition()æ–¹æ³•è·å–åœ°ç†åæ ‡ã€‚è¿™ä¸ªå®ç°æˆ‘ä»¬åœ¨ç¨åç« èŠ‚ä¸­ä¼šè¿›è¡Œè®¨è®ºã€‚å½“è·å–åˆ°äº†åœ°å€ç»çº¬åº¦ï¼Œè¿™ä¸ªæ”¶è—ä¼šç»Ÿä¸€æ ¼å¼åŒ–ä¸€ç§ç»“æ„å­˜å‚¨åˆ°æœ¬åœ°çš„æ”¶è—æ•°ç»„ä¸­ã€‚</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">var<span class="built_in"> address </span>= favorite.city + <span class="string">&#x27;, &#x27;</span> + favorite.region;</span><br><span class="line">    return GeolocationService.addressToPosition(address).then(function (data) &#123;</span><br><span class="line">      var newLocation = &#123;</span><br><span class="line">        id: favoritesId,</span><br><span class="line">        city: address,</span><br><span class="line">        lat: data.latitude,</span><br><span class="line">        lng: data.longitude</span><br><span class="line">      &#125;;</span><br><span class="line">      favorites.push(newLocation);</span><br><span class="line">      localStorageService.<span class="builtin-name">set</span>(<span class="string">&#x27;Favorites&#x27;</span>, favorites);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é’ˆå¯¹å…·ä½“çš„æ”¶è—ï¼Œæ”¶è—ä¼šåœ¨åˆ—è¡¨è§†å›¾çš„æ§åˆ¶å™¨ä¸­è¿›è¡Œåˆé€‚çš„æ ¼å¼åŒ–å¤„ç†ï¼Œå’Œç”¨æˆ·æ·»åŠ çš„æ”¶è—çš„å¤„ç†è¿‡ç¨‹ç›¸ä¿¡ï¼Œå­˜æ”¾åˆ°æœ¬åœ°æ”¶è—æ•°æ®ä¸­ã€‚</p>
<figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">new</span><span class="type">Location</span> = &#123;</span><br><span class="line">   id: <span class="type">favoritesId</span>,</span><br><span class="line">   city: <span class="type">address</span>,</span><br><span class="line">   lat: <span class="type">data</span>.latitude,</span><br><span class="line">   lng: <span class="type">data</span>.longitude</span><br><span class="line">&#125;;</span><br><span class="line">favorites.push(<span class="keyword">new</span><span class="type">Location</span>);</span><br><span class="line">localStorageService.<span class="keyword">set</span>(<span class="string">&#x27;Favorites&#x27;</span>, favorites);</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†ç¡®ä¿å‡†ç¡®å®šä½ï¼Œè¿™ä¸ªæœåŠ¡ä¸ºç¬¬ä¸€ä¸ªæ”¶è—ç”Ÿæˆäº†ä¸€ä¸ªå¯¹åº”çš„IDã€‚æ¯ä¸€ä¸ªidéƒ½æ˜¯æ ¹æ®å½“å‰ç³»ç»Ÿçš„æ—¶é—´ç”Ÿæˆçš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">this</span>.add = <span class="function"><span class="keyword">function</span> (<span class="params">favorite</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> favorites = <span class="built_in">this</span>.getFavorites() || [];</span><br><span class="line">   <span class="keyword">var</span> favoritesId =  <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ é™¤æ”¶è—çš„å·¥ä½œé€šè¿‡ä½¿ç”¨lodashçš„remove()æ–¹æ³•å®ç°ã€‚åˆ é™¤äº†æ”¶è—åï¼Œæ›´æ–°æœ¬åœ°æ”¶è—å¹¶å°†æœ€æ–°çš„æ”¶è—åˆ—è¡¨è¿”å›ã€‚</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="comment">// DELETE</span></span><br><span class="line"><span class="keyword">this</span>.delete = function (favorite) &#123;</span><br><span class="line">  <span class="keyword">var</span> favorites = <span class="keyword">this</span>.getFavorites();</span><br><span class="line">  _.remove(favorites, favorite); <span class="comment">// jshint ignore:line</span></span><br><span class="line">  localStorageService.<span class="keyword">set</span>(<span class="string">&#x27;Favorites&#x27;</span>, favorites);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.getFavorites();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>##About</p>
<p>â€˜Aboutâ€™èœå•é€‰é¡¹ç‚¹å‡»æ—¶ä¼šæ»‘å‡ºç•Œé¢ï¼ŒåŒ…å«ä¸€äº›åº”ç”¨çš„ä»‹ç»ä¿¡æ¯ã€‚è¿™ä¸ªé¡µé¢ä¼šåœ¨åº”ç”¨ç¨‹åºç¬¬ä¸€æ¬¡åŠ è½½æ—¶æ˜¾ç¤ºã€‚</p>
<p><img src="/images/ionic/about_1.png"></p>
<p><img src="/images/ionic/about_2.png"></p>
<p><img src="/images/ionic/about_3.png"></p>
<p>##Login/Logout</p>
<p>å½“ç”¨æˆ·è¿˜æ²¡æœ‰ç™»é™†è¦ç™»é™†æ—¶ï¼Œç‚¹å‡»èœå•çš„â€™Loginâ€™æ—¶ä¼šæ˜¾ç¤ºç™»é™†ç•Œé¢ã€‚ä¸€æ—¦ç”¨æˆ·ç™»é™†åï¼Œå†ç‚¹å¼€èœå•ï¼Œâ€™Logoutâ€™é€‰é¡¹å°†å‡ºå±•ç¤ºã€‚</p>
<p>ä¸‹é¢æ˜¯www/templates/menu.htmléƒ¨åˆ†ä»£ç ç‰‡æ–­ï¼Œå±•ç¤ºäº†å¦‚ä½•ç”¨ng-showå’Œng-hideå®ç°ä¸Šè¿°åŠŸèƒ½ã€‚</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">&lt;ion-<span class="built_in">item</span> menu-close <span class="built_in">class</span>=<span class="string">&quot;item-icon-left&quot;</span> ng-click=<span class="string">&quot;login()&quot;</span> ng-hide=<span class="string">&quot;isLoggedIn()&quot;</span>&gt;</span><br><span class="line">    &lt;i <span class="built_in">class</span>=<span class="string">&quot;icon ion-log-in&quot;</span>&gt;&lt;/i&gt;</span><br><span class="line">    Login</span><br><span class="line">&lt;/ion-<span class="built_in">item</span>&gt;</span><br><span class="line">&lt;ion-<span class="built_in">item</span> menu-close <span class="built_in">class</span>=<span class="string">&quot;item-icon-left&quot;</span> ng-click=<span class="string">&quot;logout()&quot;</span> ng-show=<span class="string">&quot;isLoggedIn()&quot;</span>&gt;</span><br><span class="line">    &lt;i <span class="built_in">class</span>=<span class="string">&quot;icon ion-log-out&quot;</span>&gt;&lt;/i&gt;</span><br><span class="line">    Logout</span><br><span class="line">&lt;/ion-<span class="built_in">item</span>&gt;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥åœ¨www/controllers/app.jsæ–‡ä»¶ä¸­æ‰¾åˆ°isLoggedIn,loginå’Œlogoutæ–¹æ³•ï¼š</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Determine if the user is logged into Instagram</span></span><br><span class="line"><span class="symbol">$scope</span>.isLoggedIn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> InstagramService.isLoggedIn();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Open the login modal</span></span><br><span class="line"><span class="symbol">$scope</span>.login = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="symbol">$scope</span>.loginModal.show();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Perform the logout action when the user invokes the logout link</span></span><br><span class="line"><span class="symbol">$scope</span>.logout = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  InstagramService.logout();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>isLoggedInæ–¹æ³•ä¼šè°ƒç”¨InstagramServiceçš„isLoggedIn()æ–¹æ³•æ¥è·å–å½“å‰ç™»é™†çŠ¶æ€ã€‚é€€å‡ºæ–¹æ³•ä¼šè°ƒç”¨InstagramServiceçš„logout()æ–¹æ³•æ¥è¿›è¡Œç™»è®°é€€å‡ºåŠ¨ä½œã€‚æˆ‘ä»¬ä¼šåœ¨ç¬¬å…«ç« è®²è§£æ›´å¤šå…³äºInstagramServiceç›¸å…³çš„å†…å®¹ã€‚</p>
<p>ä¸ºäº†åšæ›´å¤šå’ŒInstagramç›¸å…³å¹¶æœ‰è¶£çš„äº‹æƒ…ï¼Œæˆ‘ä»¬éœ€è¦ç”¨æˆ·ç™»é™†åˆ°Instagramã€‚ä¸ºäº†å®ç°è¿™ä¸ªï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª$ionicModalæ˜¾ç¤ºä¸ºä»€ä¹ˆè®©ç”¨æˆ·ç™»é™†çš„ç®€è¦çš„æè¿°ã€‚å½“é€‰æ‹©äº†ç™»é™†é€‰é¡¹ï¼Œloginæ–¹æ³•è¢«è°ƒç”¨ï¼Œç”¨æˆ·ä¼šçœ‹åˆ°ä¸€ä¸ªç™»é™†æ¨¡æ€ã€‚</p>
<p>![ç™»é™†æˆªå›¾](/images/ionic/login.png =300x)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Create the login modal that we will use later</span></span><br><span class="line">$ionicModal.fromTemplateUrl(<span class="string">&#x27;templates/modals/login.html&#x27;</span>, &#123;</span><br><span class="line">  scope: $scope,</span><br><span class="line">  animation: <span class="string">&#x27;slide-in-up&#x27;</span></span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">modal</span>) </span>&#123;</span><br><span class="line">  $scope.loginModal = modal;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Triggered in the login modal to close it</span></span><br><span class="line">$scope.closeLogin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  InstagramService.loginCancelled();</span><br><span class="line">  $scope.loginModal.hide();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Cleanup the modal when we&#x27;re done with it!</span></span><br><span class="line">$scope.$on(<span class="string">&#x27;$destroy&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  $scope.loginModal.remove();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é€šå¸¸ï¼Œç™»é™†é¡µé¢åƒä¸‹é¢æˆªå›¾ä¸­å±•ç¤ºä¸€æ ·ã€‚ä½†æ˜¯ç”±äºæˆ‘ä»¬è¦ä¸Instagramé›†æˆï¼Œæˆ‘ä»¬éœ€è¦OAuthçš„æ–¹å¼è¿›è¡Œç™»é™†ã€‚</p>
<p><img src="/images/ionic/normal_login.png" alt="ç™»é™†æˆªå›¾"></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ion-modal-view</span> <span class="attr">id</span>=<span class="string">&quot;login&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ion-header-bar</span> <span class="attr">class</span>=<span class="string">&quot;bar-transparent&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buttons&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button button-light button-clear button-icon button-right icon ion-close&quot;</span> <span class="attr">ng-click</span>=<span class="string">&quot;closeLogin()&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ion-header-bar</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ion-content</span> <span class="attr">scroll</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;vertical-center-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;vertical-center&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row light-bg&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;text-center&quot;</span>&gt;</span>Login with Instagram to<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;text-center&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon ion-heart assertive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> Like Posts<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon ion-images&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> View Your Feed<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon ion-star energized&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> View Your Liked Posts<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button button-block button-positive button-outline icon-left ion-social-instagram-outline&quot;</span> <span class="attr">ng-click</span>=<span class="string">&quot;loginToInstagram()&quot;</span>&gt;</span>Login with Instagram<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ion-content</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ion-modal-view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç”¨Oauthä»£æ›¿ä¼ ç»Ÿçš„ç™»é™†æ–¹å¼ï¼Œè®©ç”¨æˆ·çŸ¥é“ä¸€æ—¦ç™»é™†åˆ°äº†Instagram,ä»–ä»¬èƒ½åšå“ªäº›äº‹æƒ…ã€‚ä¸€æ—¦ç”¨æˆ·ç¡®å®šç™»é™†åˆ°Instagram,æˆ‘ä»¬ä¼šè°ƒç”¨www/controllers/app.jsä¸­çš„loginToInstagramæ–¹æ³•ï¼š</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Perform the OAuth login to Instagram</span></span><br><span class="line"><span class="symbol">$scope</span>.loginToInstagram = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="symbol">$scope</span>.loginModal.hide();</span><br><span class="line">  InstagramService.login();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–¹æ³•å°†ä¼šç”¨InAppBrowser Cordovaæ’ä»¶æ‰§è¡ŒOAuthæˆæƒã€‚æˆ‘ä»¬ä¼šä½¿ç”¨è¿™ä¸ªæ’ä»¶æ‰“å¼€ä¸€ä¸ªç™»é™†åˆ°Instagramçª—å£ã€‚Trendicityåº”ç”¨æ²¡æœ‰å¯¹ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œå¤„ç†ã€‚</p>
<p>![Instagramç™»é™†](/images/ionic/instagram_login.png =300x)</p>
<p>##Search</p>
<p>æœç´¢å›¾æ ‡å°±æ˜¯åœ¨åˆ—è¡¨æˆ–å¡ç‰‡è§†å›¾çš„å³ä¸Šè§’çš„æ”¾å¤§é•œå›¾æ ‡ã€‚ç”¨æˆ·æœ‰ä»¥ä¸‹æŸ¥è¯¢é€‰é¡¹ï¼š</p>
<ul>
<li>Trending - æŒ‰å½“å‰åœ¨Instagramä¸Šå¸–å­çš„å—æ¬¢è¿ç¨‹åºè¿›è¡Œæ’åºã€‚</li>
<li>Nearby - å½“å‰ç”¨æˆ·æ‰€åœ¨ä½ç½®1KMèŒƒå›´å†…å‘å¸ƒçš„å¸–å­ã€‚</li>
<li>My Feed - å½“å‰ç”¨æˆ·æä¾›ç»™Instagramçš„ä¿¡æ¯ã€‚</li>
<li>My Liked Posts -å½“å‰ç”¨æˆ·å–œæ¬¢çš„å¸–å­ã€‚</li>
</ul>
<p>![search](/images/ionic/search.png =300x)</p>
<p>åœ¨HomeCtrlä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†æŸ¥è¯¢åŠŸèƒ½ã€‚ä¸ºäº†å…³æ³¨æœç´¢åŠŸèƒ½ï¼Œä¸‹é¢ä»£ç è¿›è¡Œç¨å¾®çš„å‹ç¼©ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€äº›ä½œç”¨åŸŸå˜é‡æ¥ä¿å­˜å¸–å­å’ŒæŸ¥è¯¢å˜é‡ã€‚æˆ‘ä»¬ä½¿ç”¨äº†ä¸¤ä¸ªjavascriptå¯¹è±¡æ¥å­˜æ”¾ï¼Œæ‰€ä»¥å½“å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯¹è±¡ä¸ä¼šä¸¢å¤±ã€‚</p>
 <figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$scope</span>.model = PostsService.getModel();</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$scope</span>.search = &#123;value:POST_TYPE.NEARBY&#125;;</span></span><br></pre></td></tr></table></figure>

<p> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è®¾ç½®$scope.getPostsæ–¹æ³•ï¼Œå®ƒå°†ä¼šæ ¹æ®æŸ¥è¯¢å€¼å†³å®šå“ªäº›æŸ¥è¯¢æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚</p>
 <figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">$scope.getPosts = <span class="keyword">function</span>(value) &#123;</span><br><span class="line">  <span class="keyword">if</span> (value<span class="operator"> === </span>POST_TYPE.TRENDING) &#123;</span><br><span class="line">    <span class="module-access"><span class="module"><span class="identifier">PostsService</span>.</span></span>find<span class="constructor">PopularPosts()</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value<span class="operator"> === </span>POST_TYPE.NEARBY) &#123;</span><br><span class="line">    $scope.find<span class="constructor">NearbyPosts()</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value<span class="operator"> === </span>POST_TYPE.USER_FEED) &#123;</span><br><span class="line">    <span class="module-access"><span class="module"><span class="identifier">PostsService</span>.</span></span>find<span class="constructor">UserFeedPosts()</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value<span class="operator"> === </span>POST_TYPE.LIKED) &#123;</span><br><span class="line">    <span class="module-access"><span class="module"><span class="identifier">PostsService</span>.</span></span>find<span class="constructor">LikedPosts()</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p> é€šè¿‡$watchç›‘å¬ionicPopoverä¸­æŸ¥è¯¢å˜é‡å€¼çš„å˜åŒ–æ¥åŠæ—¶è°ƒç”¨$scope.getPostsæ–¹æ³•æ¥è¿›è¡ŒæŸ¥è¯¢ã€‚<br> <figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$scope</span>.updatePosts = <span class="function"><span class="keyword">function</span> (<span class="params">searchValue</span>) </span>&#123;</span><br><span class="line">  <span class="symbol">$scope</span>.getPosts(searchValue);</span><br><span class="line">  <span class="symbol">$scope</span>.closePopover();</span><br><span class="line">  <span class="symbol">$io</span>nicScrollDelegate.scrollTop();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="symbol">$scope</span>.<span class="symbol">$watc</span>h(<span class="string">&#x27;search.value&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Triggered when user changes search value</span></span><br><span class="line">    <span class="symbol">$scope</span>.updatePosts(newValue);</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br></pre></td></tr></table></figure></p>
<p>ä¸ºäº†å®ç°ionicPopover,æˆ‘ä»¬é¦–å…ˆéœ€è¦é€šè¿‡ fromTemplateUrl æ–¹æ³•åŠ è½½ html æ¨¡ç‰ˆã€‚æˆ‘ä»¬åœ¨è¿™é‡Œå°†å…¶ä½œç”¨åŸŸè®¾ç½®ä¸ºå½“å‰ä½œç”¨åŸŸã€‚å½“templateåŠ è½½æ—¶ï¼Œæˆ‘ä»¬å°†popoverè®¾ç½®åˆ°è¿™ä¸ªä½œç”¨åŸŸä¸­ï¼Œæ–¹ä¾¿æˆ‘ä»¬åé¢è¿›è¡Œè°ƒç”¨ã€‚</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$io</span>nicPopover.fromTemplateUrl(<span class="string">&#x27;templates/search.html&#x27;</span>, &#123;</span><br><span class="line">  scope: <span class="symbol">$scope</span>,</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">popover</span>) </span>&#123;</span><br><span class="line">  <span class="symbol">$scope</span>.popover = popover;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢è¿™æ®µ search.html æ¨¡ç‰ˆç‰‡æ®µã€‚æˆ‘ä»¬ä½¿ç”¨äº†ion-popover-view ç»„ä»¶å®šä¹‰è¿™ä¸ªè§†å›¾ã€‚æˆ‘ä»¬ä½¿ç”¨ ion-header-bar ç»„ä»¶å±•ç¤ºå¼¹å‡ºçª—å£çš„æ ‡é¢˜ã€‚æˆ‘ä»¬å°† ion-radio ç»„ä»¶åˆ—è¡¨æ”¾åˆ° ion-content ç»„ä»¶ä¸­ã€‚ion-radioç»„ä»¶é€‰æ‹©åï¼Œä¼šä½œä¸ºæœç´¢å‚è€ƒå€¼ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ion-popover-view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ion-header-bar</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>Search<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ion-header-bar</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ion-content</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ion-radio</span> <span class="attr">ng-model</span>=<span class="string">&quot;search.value&quot;</span> <span class="attr">value</span>=<span class="string">&quot;TR&quot;</span>&gt;</span>Trending<span class="tag">&lt;/<span class="name">ion-radio</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ion-radio</span> <span class="attr">ng-model</span>=<span class="string">&quot;search.value&quot;</span> <span class="attr">value</span>=<span class="string">&quot;NB&quot;</span>&gt;</span>Nearby<span class="tag">&lt;/<span class="name">ion-radio</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ion-radio</span> <span class="attr">ng-model</span>=<span class="string">&quot;search.value&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UF&quot;</span>&gt;</span>My Feed<span class="tag">&lt;/<span class="name">ion-radio</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ion-radio</span> <span class="attr">ng-model</span>=<span class="string">&quot;search.value&quot;</span> <span class="attr">value</span>=<span class="string">&quot;LP&quot;</span>&gt;</span>My Liked Posts<span class="tag">&lt;/<span class="name">ion-radio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ion-content</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ion-popover-view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å½“ç”¨æˆ·ç‚¹å‡»åœ¨templates/home.htmlä¸­å®šä¹‰çš„å¯¼èˆªæŒ‰é’®æ—¶ è¿™ä¸ª ionicPopover å°†ä¼šå¼¹å‡ºã€‚ä¸‹é¢åœ°è¿™æ®µä»£ç ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ion-nav-buttons</span> <span class="attr">side</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button button-icon icon ion-ios-search&quot;</span> <span class="attr">ng-click</span>=<span class="string">&quot;openPopover($event)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ion-nav-buttons</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç”±ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œå½“ç”¨æˆ·ç‚¹å‡»Searchå›¾æ ‡æ—¶ï¼Œä¼šè°ƒç”¨openPopoveræ–¹æ³•ã€‚æˆ‘ä»¬è¦åšçš„å°±æ˜¯è®©popoveræ˜¾ç¤ºã€‚å½“é€‰æ‹©äº†ä¸€ä¸ªå€¼æ—¶ï¼Œå°†ä¼šè°ƒç”¨closePopoveræ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è¦ç¡®è®¤popoveræ˜¯å·²ç»å®šä¹‰å¹¶æ˜¯æ‰“å¼€çš„ã€‚å¦‚ä½•æ¡ä»¶æ»¡è¶³ï¼Œæˆ‘ä»¬å°±å°†å…¶å…³é—­ã€‚æœ€åä¸€ä»¶äº‹æƒ…å°±æ˜¯ä¸ºpopoverè®¾ç½®ä¸€ä¸ª$destroyç›‘å¬ï¼Œå½“popoverè¢«ä»Domä¸­ç§»é™¤æ—¶è°ƒç”¨ã€‚</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$scope.openPopover = <span class="function"><span class="keyword">function</span>(<span class="params">$event</span>) </span>&#123;</span><br><span class="line">     $scope.popover.show($event);</span><br><span class="line">   &#125;;</span><br><span class="line"></span><br><span class="line">   $scope.closePopover = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> ($scope.popover &amp;&amp; $scope.popover.isShown()) &#123;</span><br><span class="line">       $scope.popover.hide();</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Cleanup the popover when we&#x27;re done with it!</span></span><br><span class="line">   $scope.$on(<span class="string">&#x27;$destroy&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> ($scope.popover) &#123;</span><br><span class="line">       $scope.popover.remove();</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>##åŠ è½½æœåŠ¡</p>
<p>å½“ç…§ç‰‡è¿›è¡ŒåŠ è½½æ—¶ï¼Œç”¨æˆ·ä¼šä¸çŸ¥é“åº”ç”¨åœ¨åšä»€ä¹ˆï¼Œæˆ‘ä»¬åº”è¯¥é€šçŸ¥ç”¨æˆ·å½“å‰æ˜¯åœ¨åŠ è½½æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨$ionicLoadingç»„ä»¶æ¥å®Œæˆè¿™ä»¶äº‹æƒ…ã€‚</p>
<p>![loading](/images/ionic/ionic_loading.png =300x)</p>
<p>ä¸€ç§èªæ˜çš„æ–¹å¼å°±æ˜¯å°† $ionicLoading ç»„ä»¶è°ƒç”¨ç”¨æ”¾åœ¨ä¸€ä¸ªHTTPæ‹¦æˆªå™¨ä¸­ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬å‹ç¼©åçš„ä»£ç ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">.factory(<span class="string">&#x27;TrendicityInterceptor&#x27;</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">$injector, $q</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hideLoadingModalIfNecessary = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> $http = $http || $injector.get(<span class="string">&#x27;$http&#x27;</span>);</span><br><span class="line">      <span class="keyword">if</span> ($http.pendingRequests.length === <span class="number">0</span>) &#123;</span><br><span class="line">        $injector.get(<span class="string">&#x27;$ionicLoading&#x27;</span>).hide();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      request: <span class="function"><span class="keyword">function</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">        $injector.get(<span class="string">&#x27;$ionicLoading&#x27;</span>).show();</span><br><span class="line">       ...</span><br><span class="line">      requestError: <span class="function"><span class="keyword">function</span>(<span class="params">rejection</span>) </span>&#123;</span><br><span class="line">        hideLoadingModalIfNecessary();</span><br><span class="line">        <span class="keyword">return</span> $q.reject(rejection);</span><br><span class="line">      &#125;,</span><br><span class="line">      response: <span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">        hideLoadingModalIfNecessary();</span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">      &#125;,</span><br><span class="line">      responseError: <span class="function"><span class="keyword">function</span>(<span class="params">rejection</span>) </span>&#123;</span><br><span class="line">        hideLoadingModalIfNecessary();</span><br><span class="line">        <span class="keyword">return</span> $q.reject(rejection);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å½“HTTPè¯·æ±‚å‘ç”Ÿæ—¶ï¼Œrequestæ–¹æ³•å°†ä¼šè¢«è°ƒç”¨ã€‚è¿™é‡Œæˆ‘ä»¬æ˜¾ç¤ºæ–‡å­— â€œLoadingâ€ã€‚ä¸ºäº†é¿å…ä¾èµ–æ­»å¾ªç¯ï¼Œæˆ‘ä»¬éœ€è¦ç”¨Angular $injectorç»„ä»¶æ¥è·å–$ionicLoadingæœåŠ¡ã€‚</p>
<p>å½“HTTPè¯·æ±‚å‡ºç°é”™è¯¯æ—¶ï¼Œè¿™é‡Œä¼šè°ƒç”¨requestErroræ–¹æ³•ã€‚æˆ‘ä»¬ä¼šè°ƒç”¨hideLoadingModalIfNecesary()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šæ£€æŸ¥æ˜¯å¦æœ‰HTTPè¯·æ±‚åœ¨è¢«è°ƒç”¨ï¼Œå¦‚æœæ²¡æœ‰ionicLoadingæœåŠ¡ä¼šå°†è‡ªå·±éšè—ã€‚</p>
<p>å½“HTTPå“åº”æˆåŠŸæ—¶ï¼Œä¼šè°ƒç”¨responseæ–¹æ³•ã€‚ä¹‹ååšçš„äº‹æƒ…ä¸é”™è¯¯æ—¶çš„å¤„ç†æ–¹æ³•ç±»ä¼¼ã€‚</p>
<p>å½“HTTPå“åº”é”™è¯¯æ—¶ï¼Œä¼šè°ƒç”¨responseErroræ–¹æ³•ã€‚ä¹‹ååšçš„äº‹æƒ…ä¸ä¸Šé¢ä¸¤ç§æƒ…å†µå¤„ç†æ–¹æ³•ç±»ä¼¼ã€‚</p>
<p>ä¸ºäº†ä½¿æˆ‘ä»¬çš„HTTPæ‹¦æˆªå™¨ç”Ÿæ•ˆï¼Œæˆ‘ä»¬éœ€è¦è®©AngularJSçŸ¥é“å®ƒçš„å­˜åœ¨ã€‚ä¸€èˆ¬æˆ‘ä»¬ä¼šåœ¨www/app.jsä¸­åšè¿™ä»¶äº‹æƒ…ã€‚è¿™é‡Œæ˜¯æˆ‘ä»¬å°†æ‹¦æˆªå™¨é€šè¿‡$httpProvideræ·»åŠ åˆ°æ‹¦æˆªå™¨æ•°æ®ä¸­çš„æ–¹æ³•ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">.config(<span class="function"><span class="keyword">function</span>(<span class="params">$httpProvider</span>) </span>&#123;</span><br><span class="line">  $httpProvider.interceptors.push(<span class="string">&#x27;TrendicityInterceptor&#x27;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œè¿™é‡Œæˆ‘ä»¬æ²¡æœ‰æ˜¾ç¤ºçœŸæ­£çš„æç¤ºä¿¡æ¯ï¼Œåªæ˜¯åœ¨www/app.jsä¸­è®¾ç½®äº†ä¸€ä¸ªé»˜è®¤ä¿¡æ¯:</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">.<span class="keyword">constant</span>(<span class="string">&#x27;$ionicLoadingConfig&#x27;</span>, &#123;</span><br><span class="line">  <span class="keyword">template</span>: <span class="string">&#x27;&lt;ion-spinner&gt;&lt;/ion-spinner&gt;Loading...&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åœ¨ç¬¬ä¸ƒç« ä¼šè¯¦ç»†è®²è§£ï¼šè®¾è®¡åº”ç”¨ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³å‘Šè¯‰ä½ ä¸ºä»€ä¹ˆä¸å‘ionicLoading showæ–¹æ³•ä¸­ä¼ å…¥ä¿¡æ¯ã€‚</p>
<p>##Mapè§†å›¾é€‰é¡¹</p>
<p>å°†å½“å‰æäº¤çš„ä¿¡æ¯åœ¨ä¸€ä¸ªå¯ä»¥äº¤äº’çš„åœ°å›¾ä¸Šå±•ç¤ºã€‚ä¸€ä¸ªæ ‡è®°ä¼šå°†ç”¨æˆ·çš„ä½ç½®æ ‡åœ¨åœ°å›¾ä¸Šã€‚åˆ«çš„ç…§ç‰‡æŒ‰å®ƒçš„ä½ç½®å±•ç°åœ¨åœ°å›¾ä¸Šã€‚å½“ç‚¹å‡»è¿™ä¸ªè¿™ä¸ªæ ‡è®°æ—¶ï¼Œç›¸å…³è”çš„ç…§ç‰‡ä¼šå±•ç°å‡ºæ¥ã€‚å¦‚æœä½ ç§»åŠ¨åœ°å›¾åˆ°ä¸€ä¸ªä½ç½® ï¼Œç„¶åç‚¹å‡»å³ä¸Šè§’çš„åˆ·æ–°å›¾æ ‡ï¼›å°±ä¼šåŠ è½½å½“å‰ä½ç½®å‘¨è¾¹çš„ç…§ç‰‡ã€‚è‹¥æƒ³äº†è§£å¦‚ä½•å®ç°çš„ï¼Œè¯·çœ‹ç¬¬äº”ç« ï¼šåœ¨ionicä¸Šé›†æˆåœ°å›¾ã€‚</p>
<p>##Cardå®å›¾é€‰é¡¹</p>
<p>å¡ç‰‡è§†å›¾å°†ä»¥å¡ç‰‡å åŠ çš„æ–¹å¼æ¥å±•ç°ç…§ç‰‡ã€‚è‹¥ç”¨æˆ·ä¸å–œæ¬¢å½“å‰çš„ç…§ç‰‡ï¼Œå¯ä»¥å°†å›¾ç‰‡å‘å·¦ä¾§æ‹–æ‹½æˆ–åˆ’åŠ¨ã€‚å¦‚æœå–œæ¬¢çš„è¯å¯ä»¥å‘å³ä¾§æ‹–æ‹½æˆ–åˆ’åŠ¨ã€‚</p>
<p>è¿™äº›å¯ä»¥æ‘†åŠ¨çš„å¡åˆ¸ä¸éå¸¸å—æ¬¢è¿çš„æ‰‹æœºåº”ç”¨Tinderç›¸ä¼¼ã€‚è¿™ç§ç±»ä¼¼çš„å®ç”¨çš„åŠŸèƒ½åœ¨Tinderä¸­ç»å¸¸ä¼šè¢«ç”¨åˆ°ã€‚</p>
<p>Drifyï¼ˆè¯¥å…¬å¸è´Ÿè´£æˆ‘ä»¬çš„ionicæŠ€æœ¯ï¼‰åˆ›å§‹äººä¹‹ä¸€Max Lynchå·²ç»åˆ›å»ºäº†ä¸€ä¸ªåˆ’åŠ¨å¡ç‰‡çš„åº“ï¼Œè¿™ä¸ªåº“ç»å¸¸ä¼šè¢«ionicå¼€å‘å›¢é˜Ÿå¼•ç”¨ã€‚åœ¨ionicä¸­è¿™æ ·çš„æ•ˆæœå±•ç¤ºé€šå¸¸ä¼šæ¯”è¾ƒå—æ¬¢è¿çš„ã€‚</p>
<p>è¿™ä¸ªç±»åº“ç”¨CSSçš„åŠ¨ç”»æ¥å®ç°å¡ç‰‡å·¦å³æ‹–æ‹½å’Œæ‘†åŠ¨çš„æ•ˆæœã€‚ä»–ä¹Ÿä½¿ç”¨äº†ä¸€ä¸ªç‰©ç†æ ·å¼åŠ¨åŒ–æ•ˆæœåº“Collideæ¥å®ç°å°†å›¾ç‰‡ä¸‹æ‹‰æ—¶çš„åŠ¨ç”»æ•ˆæœã€‚</p>
<p>åœ¨ä½¿ç”¨Tinderå¡ç‰‡åº“ä¹‹å‰ï¼Œä¸€ä¸ªéå¸¸ç›¸ä¼¼çš„å¡ç‰‡åˆ’åŠ¨æ•ˆæœè¢«åˆ›å»ºã€‚æˆ‘ä»¬åªæ˜¯åœ¨è¿™é‡Œæä¸€ä¸‹å®ƒï¼Œåœ¨ä½ çœ‹åˆ°è¿™å—æ—¶ä¸è¦å¥½å¥‡ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œæ²¡æœ‰æ¶‰åŠåˆ°è¿™ä¸ªåº“ã€‚</p>
<p>###å·¥ä½œæ–‡ä»¶</p>
<p>ä¸è¯¥è§†å›¾ç›¸å…³çš„æ–‡ä»¶ä½ç½®åœ¨ï¼š<code>www/templates/tab-card.html</code>,<code>www/templates/card-intro.html</code>,<code>www/js/controllers/card.js</code>å’Œ<code>www/js/directives/no-touch-move.js</code>ã€‚</p>
<p>###popupä»‹ç»</p>
<p>å½“å¯¼èˆªåˆ°å¡ç‰‡å®å›¾æ—¶ï¼Œæˆ‘ä»¬å†³å®šå¼¹å‡ºå±•ç¤ºè¯´æ˜ä¿¡æ¯ï¼Œæ¥å‘ç”¨æˆ·ä»‹ç»å’Œè®©ä»–ä»¬ç†Ÿæ‚‰å¦‚ä½•ä½¿ç”¨å¡ç‰‡çš„æ“ä½œã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨$ionicPopupæœåŠ¡æ¥å±•ç¤ºIonicæ ·å¼çš„å¼¹å‡ºçª—ä¿¡æ¯ã€‚è¿™ä¸ªæœåŠ¡å…è®¸ä½ å®šä¹‰å››ç§ç±»å‹çš„å¼¹å‡ºçª—ï¼š</p>
<ul>
<li><p>show(é€‰é¡¹) ï¼šé€šè¿‡åŠ è½½çš„é€‰é¡¹è®¾ç½®æ¥å®Œå…¨è‡ªå®šä¹‰å¼¹å‡ºçª—</p>
</li>
<li><p>alert(é€‰é¡¹) ï¼šå¸¦æœ‰ä¸€ä¸ªæŒ‰é’®çš„å¼¹å‡ºçª—</p>
</li>
<li><p>confirm(é€‰é¡¹)ï¼šå¸¦æœ‰ç¡®è®¤ä¿¡æ¯å’Œâ€œå–æ¶ˆâ€å’Œâ€œç¡®è®¤â€é“µé’®çš„å¼¹å‡ºçª—</p>
</li>
<li><p>prompt(é€‰é¡¹)ï¼šå’Œconfirmä¸€æ ·ï¼Œä½†æ˜¯å¤šå‡ºä¸€ä¸ªä¸ç”¨æˆ·äº¤äº’çš„è¾“å…¥æ¡†ã€‚</p>
</li>
</ul>
<p>ä¸ºæˆ‘ä»¬Trendicityåº”ç”¨ï¼Œè‡ªå®šä¹‰äº†ä¸€ä¸ªå¼¹å‡ºçª—å¦‚ï¼š</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">//</span> Show explanation message</span><br><span class="line"><span class="variable">$ionicPopup</span>.show(&#123;</span><br><span class="line">  title: <span class="string">&#x27;Swipe Cards&#x27;</span>,</span><br><span class="line">  templateUrl: <span class="string">&#x27;templates/popups/card-intro.html&#x27;</span>,</span><br><span class="line">  scope: <span class="variable">$scope</span>,</span><br><span class="line">  buttons: [</span><br><span class="line">    &#123;</span><br><span class="line">      text: <span class="string">&#x27;Next&#x27;</span>,</span><br><span class="line">      type: <span class="string">&#x27;button-positive&#x27;</span>,</span><br><span class="line">      onTap: <span class="keyword">function</span>(e) &#123;</span><br><span class="line">        <span class="keyword">if</span> (slidebox.currentIndex() === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="regexp">//</span> Go to <span class="keyword">next</span> slide</span><br><span class="line">          slidebox.<span class="keyword">next</span>();</span><br><span class="line"></span><br><span class="line">          <span class="regexp">//</span> Change button text</span><br><span class="line">          e.target.innerHTML = <span class="string">&#x27;OK&#x27;</span>;</span><br><span class="line"></span><br><span class="line">          e.preventDefault();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="regexp">//</span> Close popup</span><br><span class="line">          return;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¼¹å‡ºçª—çš„ä¿¡æ¯ä½“éƒ¨åˆ†é€šè¿‡templateå’ŒtemplateUrlé€‰é¡¹è¿›è¡Œå®šä¹‰ã€‚æˆ‘ä»¬è¿™é‡Œå•ç‹¬å®šä¹‰è¿™ä¸ªæ¨¡ç‰ˆæ–‡ä»¶ï¼štemplates/card-intro.html</p>
<p>æˆ‘ä»¬çš„æ¨¡ç‰ˆæ–‡ä»¶ä¸­åŒ…å«ä¸€ä¸ªåˆ’åŠ¨çš„ç›’å­ï¼Œå¯ä»¥æµç•…çš„åœ¨ç…§ç‰‡ä¸ç…§ç‰‡ä¹‹é—´è¿›è¡Œåˆ’åŠ¨ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ion-slide-box</span> <span class="attr">does-continue</span>=<span class="string">&quot;false&quot;</span> <span class="attr">show-pager</span>=<span class="string">&quot;false&quot;</span> <span class="attr">delegate-handle</span>=<span class="string">&quot;card-intro-slidebox&quot;</span> <span class="attr">ng-init</span>=<span class="string">&quot;disableSlideBox()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ion-slide</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;full-image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;img/swipe-right.png&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ion-slide</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ion-slide</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;full-image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;img/swipe-left.png&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ion-slide</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ion-slide-box</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªç›’å­ç»„ä»¶æ˜¯ç”±AngularJSæœåŠ¡$ionicSlideBoxDelegateç”Ÿæˆã€‚è¿™ä¸ªæœåŠ¡å…è®¸ä½ æ§åˆ¶è¿™ä¸ªç»„ä»¶çš„è¡Œä¸ºï¼Œå¦‚åˆ’åŠ¨æ—¶çš„æ•ˆæœå’Œæ§åˆ¶æ˜¯å¦è‡ªåŠ¨æ’­æ”¾ã€‚å¦å¤–å½“å†æ¬¡æ¸²æŸ“è¿™ä¸ªç›’å­æ—¶è°ƒç”¨update()æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œï¼Œç¦æ­¢ç…§ç‰‡çš„è‡ªåŠ¨åˆ‡æ¢å’Œç”¨æˆ·åˆ’åŠ¨ï¼Œè€Œæ‰€æœ‰çš„æ“ä½œåªèƒ½é€šè¿‡é“µé’®æ¥è¿›è¡Œå®Œæˆã€‚</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Disable intro slidebox sliding</span></span><br><span class="line">  <span class="symbol">$scope</span>.disableSlideBox = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="symbol">$io</span>nicSlideBoxDelegate.enableSlide(<span class="literal">false</span>);</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>

<p>å¼¹å‡ºçª—å£æä¾›äº†ä¸€ä¸ªå›è°ƒonTap,è¿™é‡Œå¯ä»¥è®©ç”¨æˆ·å»è‡ªå·±åšä¸€äº›äº‹æƒ…ã€‚å¦‚æœå½“å‰æ˜¯ç¬¬ä¸€ä¸ªç…§ç‰‡ï¼Œç‚¹å‡»â€œNextâ€é“µé’®ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨$ionicSlideBoxDelegate.$getByHandle(â€˜card-intro-slideboxâ€™)å®ä¾‹çš„next()æ‰“å¼€ä¸‹ä¸€å¼ ç…§ç‰‡,å¹¶ä¸”ä¿®æ”¹é“µé’®çš„æ–‡å­—ä¸ºâ€OKâ€åŒæ—¶é˜²æ­¢å¼¹å‡ºçª—å£å…³é—­ã€‚å¦å¤–ï¼Œå½“åœ¨æœ€åä¸€ä¸ªç…§ç‰‡æ—¶ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨returnå¹¶å…³é—­å¼¹å‡ºçª—å£ã€‚</p>
<p>æœ€åï¼Œæ¯æ¬¡ç”¨æˆ·è®¿é—®å¡ç‰‡è§†å›¾æ—¶ï¼Œæˆ‘ä»¬ä¼šæŸ¥çœ‹ä¸€ä¸‹æœ¬åœ°å­˜å‚¨seenCardIntroçš„å€¼æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»çœ‹è¿™ä¸ªå¡ç‰‡ã€‚</p>
<p>###Cardè§†å›¾</p>
<p>åœ¨www/templates/tab-card.htmlæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ä¼šå±•ç¤ºå¡ç‰‡é›†åˆã€‚æˆ‘ä»¬é€šè¿‡ng-repeatæ¥è¿­ä»£æ˜¾ç¤ºç…§ç‰‡ã€‚è®©åæˆ‘ä»¬å®šä¹‰ä¸€äº›å±æ€§æ¥å“åº”ç”¨æˆ·å¯¹å¡ç‰‡çš„æ“ä½œã€‚</p>
<figure class="highlight handlebars"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">ion-view</span> <span class="attr">title</span>=<span class="string">&quot;Card View&quot;</span> <span class="attr">cache-view</span>=<span class="string">&quot;false&quot;</span> <span class="attr">no-scroll</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">ion-content</span> <span class="attr">class</span>=<span class="string">&quot;has-header padding&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-if</span>=<span class="string">&quot;model.currentPosts.length&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">td-cards</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">td-card</span> <span class="attr">ng-repeat</span>=<span class="string">&quot;post in model.currentPosts&quot;</span> <span class="attr">on-destroy</span>=<span class="string">&quot;cardDestroyed($index)&quot;</span></span></span></span><br><span class="line"><span class="xml">                         on-transition-left=&quot;cardTransitionedLeft($index)&quot;</span></span><br><span class="line"><span class="xml">                         on-transition-right=&quot;cardTransitionedRight($index)&quot;&gt;</span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;image&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;no-text&quot;</span>&gt;</span>NOPE<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">img</span> <span class="attr">ng-src</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; <span class="name">post.images.low_resolution.url</span> &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;yes-text&quot;</span>&gt;</span>LIKE<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">td-card</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">td-cards</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ion-content</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">ion-view</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>###Cardè§†å›¾å¯¹åº”çš„controller</p>
<p>æˆ‘ä»¬éœ€è¦CardViewCtrlä½¿ä¾§è¾¹æ»‘å‡ºèœå•å¤±æ•ˆï¼Œå› ä¸ºå®ƒä¼šä¸Tinderå¡ç‰‡åŠŸèƒ½å†²çª ã€‚è¿™é‡Œæˆ‘ä»¬é€šè¿‡$ionicSidemenuDelegateæ¥è®¾ç½®å½“å†…å®¹è¿›å…¥è§†å›¾æ—¶æ‹–æ‹½ä¸å¯ç”¨ã€‚å½“ç¦»å¼€è§†å›¾æ—¶ï¼Œæˆ‘ä»¬æ¢å¤å¯ç”¨ï¼Œä½¿åˆ«çš„è§†å›¾ä¸‹å¯ä»¥æ‰“å¼€ä¾§è¾¹èœå•ã€‚</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">.controller(<span class="string">&#x27;CardViewCtrl&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  $scope,</span></span></span><br><span class="line"><span class="function"><span class="params">  $ionicSideMenuDelegate,</span></span></span><br><span class="line"><span class="function"><span class="params">  $ionicPopup,</span></span></span><br><span class="line"><span class="function"><span class="params">  $ionicSlideBoxDelegate,</span></span></span><br><span class="line"><span class="function"><span class="params">  $timeout,</span></span></span><br><span class="line"><span class="function"><span class="params">  $ionicHistory,</span></span></span><br><span class="line"><span class="function"><span class="params">  localStorageService,</span></span></span><br><span class="line"><span class="function"><span class="params">  PostsService,</span></span></span><br><span class="line"><span class="function"><span class="params">  InstagramService</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Disable side-menu drag so that it doesnt interfere with our tinder cards functionality</span></span><br><span class="line">  $scope.$on(<span class="string">&#x27;$ionicView.enter&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $ionicHistory.clearHistory();</span><br><span class="line">    $ionicSideMenuDelegate.canDragContent(<span class="literal">false</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  $scope.$on(<span class="string">&#x27;$ionicView.leave&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $ionicSideMenuDelegate.canDragContent(<span class="literal">true</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!localStorageService.get(<span class="string">&#x27;seenCardIntro&#x27;</span>)) &#123;</span><br><span class="line">    <span class="comment">// Mark intro as seen</span></span><br><span class="line">    localStorageService.set(<span class="string">&#x27;seenCardIntro&#x27;</span>, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> slidebox = $ionicSlideBoxDelegate.$getByHandle(<span class="string">&#x27;card-intro-slidebox&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Disable intro slidebox sliding</span></span><br><span class="line">    $scope.disableSlideBox = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      $ionicSlideBoxDelegate.enableSlide(<span class="literal">false</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Show explanation message</span></span><br><span class="line">    $ionicPopup.show(&#123;</span><br><span class="line">      title: <span class="string">&#x27;Swipe Cards&#x27;</span>,</span><br><span class="line">      templateUrl: <span class="string">&#x27;templates/popups/card-intro.html&#x27;</span>,</span><br><span class="line">      scope: $scope,</span><br><span class="line">      buttons: [</span><br><span class="line">        &#123;</span><br><span class="line">          text: <span class="string">&#x27;Next&#x27;</span>,</span><br><span class="line">          type: <span class="string">&#x27;button-positive&#x27;</span>,</span><br><span class="line">          onTap: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (slidebox.currentIndex() === <span class="number">0</span>) &#123;</span><br><span class="line">              <span class="comment">// Go to next slide</span></span><br><span class="line">              slidebox.next();</span><br><span class="line"></span><br><span class="line">              <span class="comment">// Change button text</span></span><br><span class="line">              e.target.innerHTML = <span class="string">&#x27;OK&#x27;</span>;</span><br><span class="line"></span><br><span class="line">              e.preventDefault();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              <span class="comment">// Close popup</span></span><br><span class="line">              <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  $scope.cardTransitionedLeft = <span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;cardTransitionedLeft called with index:&#x27;</span> + index);</span><br><span class="line">    <span class="keyword">if</span> (!InstagramService.isLoggedIn()) &#123;</span><br><span class="line">      console.log(<span class="string">&#x27;not sure if you liked it before or not since you are not logged in; doing nothing!&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> post = $scope.model.currentPosts[index];</span><br><span class="line">    <span class="keyword">if</span> (post.user_has_liked) &#123; <span class="comment">// jshint ignore:line</span></span><br><span class="line">      PostsService.dislikePost(post.id)</span><br><span class="line">        .success(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          console.log(<span class="string">&#x27;you disliked it!&#x27;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      console.log(<span class="string">&#x27;you didnt like it in the first place!&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  $scope.cardTransitionedRight = <span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;cardTransitionedRight called with index:&#x27;</span> + index);</span><br><span class="line">    <span class="keyword">if</span> (!InstagramService.isLoggedIn()) &#123;</span><br><span class="line">      console.log(<span class="string">&#x27;not sure if you liked it before or not since you are not logged in; if you login, we will like it for you&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> post = $scope.model.currentPosts[index];</span><br><span class="line">    <span class="keyword">if</span> (!post.user_has_liked) &#123; <span class="comment">// jshint ignore:line</span></span><br><span class="line">      PostsService.likePost(post.id)</span><br><span class="line">        .success(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          console.log(<span class="string">&#x27;you liked it!&#x27;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      console.log(<span class="string">&#x27;you already liked it previously!&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  $scope.cardDestroyed = <span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;cardDestroyed called with index:&#x27;</span> + index);</span><br><span class="line">    $scope.model.currentPosts.splice(index, <span class="number">1</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>è¿™é‡ŒcardTransitionedLeftå’ŒcardTransitionRight æ–¹æ³•åŸºæœ¬ä¸Šä¸€æ ·çš„ï¼Œé™¤äº†ï¼Œå·¦æ»‘è¿›ä»£è¡¨ä¸å–œæ¬¢ï¼Œå³æ»‘æ˜¯ä»£è¡¨å–œæ¬¢ã€‚ä¸¤è€…éƒ½è¦åˆ¤æ–­æ˜¯å¦å·²ç»ç™»é™†ã€‚å¦‚ä½•ç”¨æˆ·å–œæ¬¢å½“å‰çš„å¡ç‰‡ä½†åˆæ²¡æœ‰ç™»é™†æ—¶ï¼Œä¼šè¦æ±‚ç”¨æˆ·ç™»é™†ã€‚ä¸€æ—¦ç™»é™†æˆåŠŸï¼Œè¿™ä¸ªå¡ç‰‡å°±ä¼šè¢«æ”¶è—ã€‚è¿™æ˜¯æˆ‘ä»¬å®‰å…¨è®¤è¯æ–¹æ¡ˆçš„ç»“æœã€‚ä½ å¯ä»¥é€šè¿‡ç¬¬å…­ç« èŠ‚çš„ éªŒè¯ æ¥äº†è§£æ›´å¤šçš„ä¿¡æ¯ã€‚</p>
<p>å½“ä¸€ä¸ªå¡ç‰‡ä¸€æ—¦è¿‡æ¸¡å®Œå¹¶ä¸”è¢«é”€æ¯æ—¶å°±ä¼šè°ƒç”¨cardDestroyedæ–¹æ³•ã€‚æˆ‘ä»¬è¿™é‡Œåªæ˜¯å°†å¡ç‰‡ä»ç…§ç‰‡æ•°ç»„ä¸­åˆ é™¤ã€‚</p>
<p>##Listè§†å›¾é€‰é¡¹</p>
<p>Trendicityçš„åˆ—è¡¨é€‰é¡¹æ˜¯ä¸ºäº†å±•ç¤ºionicæ ¸å¿ƒçš„åˆ—è¡¨åŠŸèƒ½è€Œå¼€å‘çš„ã€‚æ¯”è¾ƒå—æ¬¢è¿çš„ç»„ä»¶ä¸ºï¼šæ‹‰å–åˆ·æ–°ï¼Œbutton bars action sheets,è§†å›¾ä¸­çš„æ‰‹åŠ¿ã€‚è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬å°†è§£æå¼€å‘åˆ—è¡¨çš„è¿‡ç¨‹ï¼Œå’Œä¸Šè¿°çš„ç»„ä»¶ã€‚</p>
<p>###æ¶‰åŠæ–‡ä»¶</p>
<p>åˆ—è¡¨è§†å›¾åŠŸèƒ½æ¶‰åŠçš„æ–‡ä»¶ï¼šwww/templates/tab-list.html,www/js/controllers/list.jså’Œwww/js/directives/on-dbl-top.jsã€‚è·¯ç”±åœ¨www/js/app.jsä¸­å®šä¹‰çš„ï¼š</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.state</span>(<span class="string">&#x27;app.home.list&#x27;</span>,&#123;</span><br><span class="line">        <span class="attribute">url</span>:<span class="string">&#x27;/list&#x27;</span>,</span><br><span class="line">        <span class="attribute">views</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;tab-list&#x27;</span>:&#123;</span><br><span class="line">                <span class="attribute">templateUrl</span>:<span class="string">&#x27;templates/tab-list.html&#x27;</span>,</span><br><span class="line">                <span class="attribute">controller</span>:<span class="string">&#x27;ListViewCtrl&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>###æ¨¡æ¿å¸ƒå±€</p>
<p>åˆ—è¡¨è§†å›¾æ¨¡æ¿å¯ä»¥è¢«åˆ‡åˆ†æˆä¸‰éƒ¨åˆ†ï¼šåˆ·æ–°ï¼Œå¸–å­åˆ—è¡¨ï¼Œå’ŒåŒ…å«ç”¨æˆ·å¯æ“ä½œé“µé’®çš„é“µé’®æ¡ã€‚</p>
<p>###åˆ·æ–°å¸–å­åˆ—è¡¨</p>
<p>Ionicæä¾›äº†éå¸¸æœ‰ç”¨çš„æŒ‡ä»¤ï¼Œåå­—ä¸ºion-refresherã€‚åœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶æ—¶ï¼Œå°†æ ‡ç­¾æ”¾åˆ°ä½ çš„è§†å›¾ä¸Šï¼Œå¹¶æ·»åŠ åœ¨è§†å›¾æ§åˆ¶å™¨ä¸­æ·»åŠ ä¸€ä¸ªå¤„ç†ç”¨æˆ·äº¤äº’çš„æ–¹æ³•ï¼Œä¸€æ—¦ç”¨æˆ·å‘ä¸‹æ‹‰å–å†…å®¹æˆ–è€…è§¦å‘åˆ·æ–°æœºåˆ¶ã€‚</p>
<p>![åˆ—è¡¨è§†å›¾](/images/ionic/list_view.png =300x)</p>
<p>ä¸ºäº†ä¿å­˜ç®€å•æ˜“ç”¨ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªåˆ·æ–°é“µé’®ï¼ˆion-arrow-down-cï¼‰æ¥ä»£æ›¿é»˜è®¤çš„å›¾æ ‡,åŒæ—¶è®¾ç½®ä¸‹æ‹‰æ—¶æç¤ºçš„æ–‡å­—ã€‚</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;ion-refresher <span class="attribute">pulling-icon</span>=<span class="string">&quot;ion-ios-arrow-up&quot;</span> <span class="attribute">spinner</span>=<span class="string">&quot;none&quot;</span> <span class="attribute">pulling-text</span>=<span class="string">&quot;Pull to refresh...&quot;</span> <span class="attribute">on-refresh</span>=<span class="string">&quot;doRefresh()&quot;</span>&gt;&lt;/ion-refresher&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šè¿™ä¸ªå‘½ä»¤å…è®¸ä½ é€šè¿‡ä¸‹é¢å±æ€§æ¥è¦†ç›–å®ƒé»˜è®¤çš„é…ç½®ï¼š</p>
<ul>
<li>on-refresh:ä¸€æ—¦ç”¨æˆ·ä¸‹æ‹‰æ”¾å¼€åè§¦å‘åˆ·æ–°æœºåˆ¶ã€‚</li>
<li>on-pulling:ä¸€æ—¦ç”¨æˆ·å¼€å§‹ä¸‹æ‹‰æ—¶è°ƒç”¨ã€‚</li>
<li>pulling-icon:å½“ç”¨æˆ·ä¸‹æ‹‰æ—¶æ˜¾ç¤ºçš„å›¾æ ‡ã€‚</li>
<li>pulling-text:å½“ç”¨æˆ·ä¸‹æ‹‰æ—¶æ˜¾ç¤ºçš„æ–‡æœ¬ã€‚</li>
<li>refreshing-icon:å½“åˆ·æ–°æœºåˆ¶ä¸€æ—¦è§¦å‘ï¼Œè¿™ä¸ªå›¾æ ‡å°±ä¼šæ˜¾ç¤ºã€‚</li>
<li>refreshing-text:ä¸€æ—¦æ•°æ®åˆ·æ–°åï¼Œæ˜¾ç¤ºçš„æ–‡æœ¬ã€‚</li>
<li>disable-pulling-rotation:ä¸€æ—¦on-refreshè°ƒç”¨å¼€å§‹è°ƒç”¨ï¼Œåœæ­¢æ—‹è½¬å›¾æ ‡ã€‚</li>
</ul>
<p>ionrefresherç»„ä»¶å€¼å¾—æ³¨æ„çš„æå‡å°±æ˜¯ï¼Œæ·»åŠ äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå½“å¾ˆå¿«è·å–åˆ°æ•°æ®æ—¶ï¼Œåˆ·æ–°æ˜¾ç¤ºæ•°æ®ä¹Ÿè¦è€—æ—¶æœ€å°‘è¦400msã€‚è¿™ç§æƒ…å†µè¶…æ—¶åˆ›é€ ä¸€ä¸ªå¹³æ»‘è¿‡æ¸¡çš„å‡åƒï¼Œä½¿ç”¨æˆ·æ„Ÿè§‰åˆ°æ•°æ®æ˜¯åˆ·æ–°äº†ã€‚</p>
<p>æˆ‘ä»¬å›åˆ°Trendicity,refresherè®¾ç½®å½“ç”¨æˆ·å¸Œæœ›è·å–æ–°çš„å¸–å­æ—¶ï¼Œè§¦å‘æ§åˆ¶å™¨çš„doRefreshæ–¹æ³•ã€‚ä¸‹é¢å°±æ˜¯åˆ·æ–°æ—¶è°ƒç”¨çš„æ–¹æ³•ï¼š</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">//</span> Refresh feed posts</span><br><span class="line"><span class="variable">$scope</span>.doRefresh = <span class="keyword">function</span>() &#123;</span><br><span class="line">  <span class="variable">$scope</span>.getPosts(<span class="variable">$scope</span>.search.value);</span><br><span class="line"></span><br><span class="line">  <span class="regexp">//</span> Hide ion-refresher</span><br><span class="line">  <span class="variable">$scope</span>.<span class="variable">$broadcast</span>(<span class="string">&#x27;scroll.refreshComplete&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å°±åƒå‰é¢ç« èŠ‚è§£é‡Šçš„é‚£æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨HomeCtrlçš„getPostsæ–¹å¼</p>

  	</div>
	  
	  <div class="article-tags tags">
      
        <a href="/tags/ionic/">ionic</a>
      
        <a href="/tags/angularjs/">angularjs</a>
      
	  </div>
    
		
	
		<div class="art-item-footer">
				
					<span class="art-item-left"><i class="icon icon-chevron-thin-left"></i>prevï¼š<a href="/2015/09/02/Django+Mysql+%E5%AE%9E%E7%8E%B0%E5%91%A8%E8%BE%B9%E6%9F%A5%E8%AF%A2/" rel="prev"  title="Django,Mysql,ç©ºé—´æ•°æ®æ˜¯é€šè¿‡Googleåœ°å›¾å’Œé«˜å¾·åœ°å›¾è¿›è¡Œé‡‡é›†çš„">
						Django,Mysql,ç©ºé—´æ•°æ®æ˜¯é€šè¿‡Googleåœ°å›¾å’Œé«˜å¾·åœ°å›¾è¿›è¡Œé‡‡é›†çš„ 
					</a></span>
				
				
					<span class="art-item-right">nextï¼š<a href="/2015/08/27/ionic%20%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%20%E5%B7%A5%E5%85%B7%E5%92%8C%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E4%BB%8B%E7%BB%8D/" rel="next"  title="ç¬¬äºŒç«  ionic å¼€å‘ç¯å¢ƒ å·¥å…·å’Œå·¥ä½œæµç¨‹ä»‹ç»">
						ç¬¬äºŒç«  ionic å¼€å‘ç¯å¢ƒ å·¥å…·å’Œå·¥ä½œæµç¨‹ä»‹ç»
					</a><i class="icon icon-chevron-thin-right"></i></span>
				
		</div>
	
	</section>
	<br/>
	<section>
		
			<div id="vcomments"></div>
		
	</section>
</article>
<input type="hidden" id="valine_appid" value="">
<input type="hidden" id="valine_appKey" value="">
<script>
	window.subData = {
		title: 'ç¬¬ä¸‰ç«  ionic å®ä¾‹ Trendicity',
		tools: true
	}
</script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
	new Valine({
		el: '#vcomments',
		appId: "b13h0PpoiVVieODkmdrjUw2R-gzGzoHsz",
		appKey: "NMiO8n8rxtwYIaUdndXwbcKH",
		placeholder: 'æœ‰ä»€ä¹ˆæƒ³è¯´çš„å—ï¼Ÿ',
		avatar: "wavatar"
	})
</script>

      </div>
      <aside class='l_side'>
        
  <section class='m_widget about'>

<img class='avatar waves-image' src='/images/head/photo2.jpeg' />

<div class='header'>ä¸‡æ¾</div>
<div class='content'>
<div class='desc'>ç”Ÿæ´»ç‚¹æ»´å’ŒçŸ¥è¯†åˆ†äº«</div>
</div>
</section>


  <section class='m_widget links'>
<div class='header'>å‹æƒ…é“¾æ¥</div>
<div class='content'>
    <ul class="entry">
    
        <li><a class="flat-box" target="_blank" href="https://www.fxiaoke.com/">
            <div class='name'>fxiaoke</div>
        </a></li>
    
    </ul>
</div>
</section>


  <section class='m_widget categories'>
<div class='header'>æ‰€æœ‰åˆ†ç±»</div>
<div class='content'>
    
    <ul class="entry">
    
        <li><a class="flat-box" href="/categories/BPMN/"><div class='name'>BPMN</div><div class='badget'>6</div></a></li>
    
        <li><a class="flat-box" href="/categories/BPMN/Flow/"><div class='name'>Flow</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/linux/"><div class='name'>linux</div><div class='badget'>2</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%97%A5%E5%B8%B8%E5%B7%A5%E5%85%B7/mac/"><div class='name'>mac</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E4%B9%A6%E6%9E%B6/"><div class='name'>ä¹¦æ¶</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/BPMN/%E5%85%83%E7%B4%A0/"><div class='name'>å…ƒç´ </div><div class='badget'>5</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/"><div class='name'>æ‰©å±•çŸ¥è¯†</div><div class='badget'>7</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%8A%80%E6%9C%AF/"><div class='name'>æŠ€æœ¯</div><div class='badget'>28</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%96%B9%E6%A1%88/"><div class='name'>æ–¹æ¡ˆ</div><div class='badget'>4</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%97%A5%E5%B8%B8%E5%B7%A5%E5%85%B7/"><div class='name'>æ—¥å¸¸å·¥å…·</div><div class='badget'>3</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E7%94%9F%E6%B4%BB/"><div class='name'>ç”Ÿæ´»</div><div class='badget'>5</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%8A%80%E6%9C%AF/%E7%AE%97%E6%B3%95/"><div class='name'>ç®—æ³•</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E8%89%BA%E6%9C%AF/"><div class='name'>è‰ºæœ¯</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%8A%80%E6%9C%AF/%E8%AF%AD%E8%A8%80/"><div class='name'>è¯­è¨€</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/%E8%AF%BB%E4%B9%A6%E5%AD%A6%E4%B9%A0/"><div class='name'>è¯»ä¹¦å­¦ä¹ </div><div class='badget'>5</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E8%AF%BB%E4%B9%A6%E5%AD%A6%E4%B9%A0/"><div class='name'>è¯»ä¹¦å­¦ä¹ </div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%8A%80%E6%9C%AF/%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"><div class='name'>é—®é¢˜æ€»ç»“</div><div class='badget'>1</div></a></li>
    
    </ul>
    
</div>
</section>


  
<div class="m_widget tagcloud">
    <div class="header">æ ‡ç­¾äº‘</div>
    <div class='content'>
        <a href="/tags/BPMN/" style="font-size: 19px; color: #151515">BPMN</a> <a href="/tags/CAP/" style="font-size: 15px; color: #6b6b6b">CAP</a> <a href="/tags/Flow/" style="font-size: 19px; color: #151515">Flow</a> <a href="/tags/GIS/" style="font-size: 14px; color: #808080">GIS</a> <a href="/tags/Protobuf/" style="font-size: 14px; color: #808080">Protobuf</a> <a href="/tags/alfred/" style="font-size: 14px; color: #808080">alfred</a> <a href="/tags/angularjs/" style="font-size: 17px; color: #404040">angularjs</a> <a href="/tags/ansible/" style="font-size: 14px; color: #808080">ansible</a> <a href="/tags/arm/" style="font-size: 14px; color: #808080">arm</a> <a href="/tags/book/" style="font-size: 15px; color: #6b6b6b">book</a> <a href="/tags/bug/" style="font-size: 14px; color: #808080">bug</a> <a href="/tags/django/" style="font-size: 14px; color: #808080">django</a> <a href="/tags/dubbo/" style="font-size: 14px; color: #808080">dubbo</a> <a href="/tags/fastcgi/" style="font-size: 14px; color: #808080">fastcgi</a> <a href="/tags/fastfs/" style="font-size: 14px; color: #808080">fastfs</a> <a href="/tags/git/" style="font-size: 14px; color: #808080">git</a> <a href="/tags/ionic/" style="font-size: 17px; color: #404040">ionic</a> <a href="/tags/java/" style="font-size: 20px; color: #000">java</a> <a href="/tags/jdk/" style="font-size: 14px; color: #808080">jdk</a> <a href="/tags/jdk8-java/" style="font-size: 15px; color: #6b6b6b">jdk8.java</a> <a href="/tags/jmeter/" style="font-size: 14px; color: #808080">jmeter</a> <a href="/tags/linux/" style="font-size: 14px; color: #808080">linux</a> <a href="/tags/linux%E5%91%BD%E4%BB%A4/" style="font-size: 14px; color: #808080">linuxå‘½ä»¤</a> <a href="/tags/mac/" style="font-size: 15px; color: #6b6b6b">mac</a> <a href="/tags/maven/" style="font-size: 14px; color: #808080">maven</a> <a href="/tags/mp3/" style="font-size: 14px; color: #808080">mp3</a> <a href="/tags/mysql/" style="font-size: 14px; color: #808080">mysql</a> <a href="/tags/nginx/" style="font-size: 14px; color: #808080">nginx</a> <a href="/tags/nocomment/" style="font-size: 14px; color: #808080">nocomment</a> <a href="/tags/poi/" style="font-size: 14px; color: #808080">poi</a> <a href="/tags/python/" style="font-size: 17px; color: #404040">python</a> <a href="/tags/redis/" style="font-size: 15px; color: #6b6b6b">redis</a> <a href="/tags/rpc/" style="font-size: 14px; color: #808080">rpc</a> <a href="/tags/rsa/" style="font-size: 14px; color: #808080">rsa</a> <a href="/tags/schedule/" style="font-size: 14px; color: #808080">schedule</a> <a href="/tags/workflow/" style="font-size: 14px; color: #808080">workflow</a> <a href="/tags/zookeeper/" style="font-size: 14px; color: #808080">zookeeper</a> <a href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95/" style="font-size: 14px; color: #808080">ä¸€è‡´æ€§ç®—æ³•</a> <a href="/tags/%E4%BA%BA%E7%94%9F/" style="font-size: 16px; color: #555">äººç”Ÿ</a> <a href="/tags/%E4%BA%BA%E7%94%9F%E6%84%9F%E6%82%9F/" style="font-size: 14px; color: #808080">äººç”Ÿæ„Ÿæ‚Ÿ</a> <a href="/tags/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/" style="font-size: 14px; color: #808080">äººè„¸è¯†åˆ«</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/" style="font-size: 14px; color: #808080">ä»£ç ä»“åº“</a> <a href="/tags/%E5%81%A5%E5%BA%B7/" style="font-size: 14px; color: #808080">å¥åº·</a> <a href="/tags/%E5%85%83%E7%B4%A0/" style="font-size: 18px; color: #2b2b2b">å…ƒç´ </a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 18px; color: #2b2b2b">åˆ†å¸ƒå¼</a> <a href="/tags/%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86/" style="font-size: 14px; color: #808080">åŠ å¯†è§£å¯†</a> <a href="/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/" style="font-size: 14px; color: #808080">å‹åŠ›æµ‹è¯•</a> <a href="/tags/%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86/" style="font-size: 15px; color: #6b6b6b">å›¾ç‰‡å¤„ç†</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 17px; color: #404040">å¤šçº¿ç¨‹</a> <a href="/tags/%E5%AD%98%E5%82%A8/" style="font-size: 14px; color: #808080">å­˜å‚¨</a> <a href="/tags/%E5%AE%9A%E6%97%B6/" style="font-size: 14px; color: #808080">å®šæ—¶</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 14px; color: #808080">å·¥å…·</a> <a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 14px; color: #808080">å¹¶å‘</a> <a href="/tags/%E5%BE%90%E6%82%B2%E9%B8%BF/" style="font-size: 14px; color: #808080">å¾æ‚²é¸¿</a> <a href="/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/" style="font-size: 14px; color: #808080">æ€§èƒ½æµ‹è¯•</a> <a href="/tags/%E6%84%9F%E6%82%9F/" style="font-size: 15px; color: #6b6b6b">æ„Ÿæ‚Ÿ</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 14px; color: #808080">æ’åº</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86/" style="font-size: 15px; color: #6b6b6b">æœåŠ¡æ²»ç†</a> <a href="/tags/%E6%9F%A5%E6%89%BE/" style="font-size: 14px; color: #808080">æŸ¥æ‰¾</a> <a href="/tags/%E6%B5%81%E7%A8%8B/" style="font-size: 19px; color: #151515">æµç¨‹</a> <a href="/tags/%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E/" style="font-size: 19px; color: #151515">æµç¨‹å¼•æ“</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 14px; color: #808080">æµ‹è¯•</a> <a href="/tags/%E7%88%AC%E5%B1%B1/" style="font-size: 14px; color: #808080">çˆ¬å±±</a> <a href="/tags/%E7%96%91%E6%83%91/" style="font-size: 15px; color: #6b6b6b">ç–‘æƒ‘</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 19px; color: #151515">ç®—æ³•</a> <a href="/tags/%E7%BB%8F%E9%AA%8C/" style="font-size: 14px; color: #808080">ç»éªŒ</a> <a href="/tags/%E7%BB%98%E7%94%BB/" style="font-size: 14px; color: #808080">ç»˜ç”»</a> <a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 15px; color: #6b6b6b">ç¼“å­˜</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 17px; color: #404040">è®¾è®¡æ¨¡å¼</a> <a href="/tags/%E8%BD%AF%E4%BB%B6/" style="font-size: 14px; color: #808080">è½¯ä»¶</a> <a href="/tags/%E8%BF%90%E5%8A%A8/" style="font-size: 14px; color: #808080">è¿åŠ¨</a> <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 15px; color: #6b6b6b">è¿ç»´</a> <a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 14px; color: #808080">éŸ³ä¹</a> <a href="/tags/%E9%9F%B3%E9%A2%91%E8%BD%AC%E6%8D%A2/" style="font-size: 14px; color: #808080">éŸ³é¢‘è½¬æ¢</a>
    </div>
</div>



      </aside>
      <script>setLoadingBarProgress(60);</script>
    </div>
  </div>
  <footer id="footer" class="clearfix">

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/AaronWan" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
    
  </div>
  
    
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_container_site_pv">æœ¬ç«™æµè§ˆæ€»è®¿é—®é‡: <span id="busuanzi_value_site_pv"></span></span>
        <span class="post-meta-divider">|</span>
        <span id="busuanzi_container_site_uv">æœ¬ç«™è®¿é—®äººæ•°: <span id="busuanzi_value_site_uv"></span></span>
    
</footer>

  <script>setLoadingBarProgress(80);</script>
  

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src='//cdn.bootcss.com/node-waves/0.7.5/waves.min.js'></script>
<script src="//cdn.bootcss.com/scrollReveal.js/3.3.2/scrollreveal.min.js"></script>

<script src="/js/jquery.fitvids.js"></script>

<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
  var ROOT = "/"||"/";
  if(!ROOT.endsWith('/'))ROOT += '/';
</script>

<script src="/js/search.js"></script>


<script src="/js/app.js"></script>



  <script>setLoadingBarProgress(100);</script>
</body>
</html>
